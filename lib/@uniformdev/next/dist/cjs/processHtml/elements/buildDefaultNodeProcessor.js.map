{"version":3,"file":"buildDefaultNodeProcessor.js","sourceRoot":"","sources":["../../../../src/processHtml/elements/buildDefaultNodeProcessor.ts"],"names":[],"mappings":";;;;;;AAAA,gDAA0B;AAG1B,0CAA8C;AAEtC,IAAA,sBAAsB,GAAK,OAAO,CAAC,eAAe,CAAC,uBAA7B,CAA8B;AAE5D,IAAM,sBAAsB,GAAG,IAAI,sBAAsB,CAAC,eAAK,CAAC,CAAC;AAEpD,QAAA,kBAAkB,GAAG,UAAC,IAAS,EAAE,QAAa,EAAE,KAAa;IACtE,OAAO,sBAAsB,CAAC,kBAAkB,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;AAC5E,CAAC,CAAC;AAEF,SAAS,YAAY,CAAC,IAAa;IAC/B,OAAO,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,oCAAoC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC9E,CAAC;AAED,gBAAgB;AACH,QAAA,yBAAyB,GAAG,UAAC,MAAc,IAAgC,OAAA,CAAC;IACrF,iBAAiB,EAAE,cAAM,OAAA,IAAI,EAAJ,CAAI;IAC7B,WAAW,EAAE,UAAU,IAAS,EAAE,QAAa,EAAE,KAAa;QAC1D,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;YACtB,IAAM,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACrC,IAAI,CAAC,IAAI;gBAAE,OAAO,IAAI,CAAC;YACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SACpB;QACD,0BAAc,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC7B,OAAO,0BAAkB,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IACrD,CAAC;CACJ,CAAC,EAXsF,CAWtF,CAAC","sourcesContent":["import React from 'react';\r\nimport { HtmlProcessingInstruction } from '../HtmlProcessingInstruction';\r\nimport { Logger } from '@uniformdev/common';\r\nimport { convertAttribs } from '../attribMap';\r\n\r\nconst { ProcessNodeDefinitions } = require('html-to-react');\r\n\r\nconst processNodeDefinitions = new ProcessNodeDefinitions(React);\r\n\r\nexport const processDefaultNode = (node: any, children: any, index: number) => {\r\n    return processNodeDefinitions.processDefaultNode(node, children, index);\r\n};\r\n\r\nfunction trimTextNode(data?: string) {\r\n    return data ? data.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '') : '';\r\n}\r\n\r\n// Anything else\r\nexport const buildDefaultNodeProcessor = (logger: Logger): HtmlProcessingInstruction => ({\r\n    shouldProcessNode: () => true,\r\n    processNode: function (node: any, children: any, index: number) {\r\n        if (node.type === 'text') {\r\n            const data = trimTextNode(node.data);\r\n            if (!data) return null;\r\n            node.data = data;\r\n        }\r\n        convertAttribs(node, logger);\r\n        return processDefaultNode(node, children, index);\r\n    },\r\n});\r\n"]}