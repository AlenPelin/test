!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).uniformdev=e()}}((function(){var define,module,exports;return function e(t,r,i){function n(s,a){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[s]={exports:{}};t[s][0].call(d.exports,(function(e){return n(t[s][1][e]||e)}),d,d.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,t,r){(function(i,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
!function(e,i){"object"==typeof r&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.ES6Promise=i()}(this,(function(){"use strict";function t(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,s=void 0,a=void 0,c=function(e,t){g[o]=e,g[o+1]=t,2===(o+=2)&&(a?a(h):k())};var u="undefined"!=typeof window?window:void 0,d=u||{},l=d.MutationObserver||d.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==i&&"[object process]"==={}.toString.call(i),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function v(){var e=setTimeout;return function(){return e(h,1)}}var g=new Array(1e3);function h(){for(var e=0;e<o;e+=2){(0,g[e])(g[e+1]),g[e]=void 0,g[e+1]=void 0}o=0}var m,y,b,w,k=void 0;function _(e,t){var r=this,i=new this.constructor(T);void 0===i[P]&&R(i);var n=r._state;if(n){var o=arguments[n-1];c((function(){return N(n,i,o,r._result)}))}else A(r,i,e,t);return i}function O(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return S(t,e),t}f?k=function(){return i.nextTick(h)}:l?(y=0,b=new l(h),w=document.createTextNode(""),b.observe(w,{characterData:!0}),k=function(){w.data=y=++y%2}):p?((m=new MessageChannel).port1.onmessage=h,k=function(){return m.port2.postMessage(0)}):k=void 0===u&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(s=e.runOnLoop||e.runOnContext)?function(){s(h)}:v()}catch(e){return v()}}():v();var P=Math.random().toString(36).substring(2);function T(){}var C=void 0;function x(e,r,i){r.constructor===e.constructor&&i===_&&r.constructor.resolve===O?function(e,t){1===t._state?D(e,t._result):2===t._state?j(e,t._result):A(t,void 0,(function(t){return S(e,t)}),(function(t){return j(e,t)}))}(e,r):void 0===i?D(e,r):t(i)?function(e,t,r){c((function(e){var i=!1,n=function(e,t,r,i){try{e.call(t,r,i)}catch(e){return e}}(r,t,(function(r){i||(i=!0,t!==r?S(e,r):D(e,r))}),(function(t){i||(i=!0,j(e,t))}),e._label);!i&&n&&(i=!0,j(e,n))}),e)}(e,r,i):D(e,r)}function S(e,t){if(e===t)j(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof(i=t),null===i||"object"!==n&&"function"!==n)D(e,t);else{var r=void 0;try{r=t.then}catch(t){return void j(e,t)}x(e,t,r)}var i,n}function E(e){e._onerror&&e._onerror(e._result),M(e)}function D(e,t){e._state===C&&(e._result=t,e._state=1,0!==e._subscribers.length&&c(M,e))}function j(e,t){e._state===C&&(e._state=2,e._result=t,c(E,e))}function A(e,t,r,i){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+1]=r,n[o+2]=i,0===o&&e._state&&c(M,e)}function M(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var i=void 0,n=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],n=t[s+r],i?N(r,i,n,o):n(o);e._subscribers.length=0}}function N(e,r,i,n){var o=t(i),s=void 0,a=void 0,c=!0;if(o){try{s=i(n)}catch(e){c=!1,a=e}if(r===s)return void j(r,new TypeError("A promises callback cannot return that same promise."))}else s=n;r._state!==C||(o&&c?S(r,s):!1===c?j(r,a):1===e?D(r,s):2===e&&j(r,s))}var U=0;function R(e){e[P]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var I=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[P]||R(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&D(this.promise,this._result))):j(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===C&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,i=r.resolve;if(i===O){var n=void 0,o=void 0,s=!1;try{n=e.then}catch(e){s=!0,o=e}if(n===_&&e._state!==C)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(r===V){var a=new r(T);s?j(a,o):x(a,e,n),this._willSettleAt(a,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,r){var i=this.promise;i._state===C&&(this._remaining--,2===e?j(i,r):this._result[t]=r),0===this._remaining&&D(i,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;A(e,void 0,(function(e){return r._settledAt(1,t,e)}),(function(e){return r._settledAt(2,t,e)}))},e}();var V=function(){function e(t){this[P]=U++,this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t((function(t){S(e,t)}),(function(t){j(e,t)}))}catch(t){j(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var r=this,i=r.constructor;return t(e)?r.then((function(t){return i.resolve(e()).then((function(){return t}))}),(function(t){return i.resolve(e()).then((function(){throw t}))})):r.then(e,e)},e}();return V.prototype.then=_,V.all=function(e){return new I(this,e).promise},V.race=function(e){var t=this;return r(e)?new t((function(r,i){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(r,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},V.resolve=O,V.reject=function(e){var t=new this(T);return j(t,e),t},V._setScheduler=function(e){a=e},V._setAsap=function(e){c=e},V._asap=c,V.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=V},V.Promise=V,V}))}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:5}],2:[function(e,t,r){"use strict";function i(e){return Number.isInteger(e)&&e>=0}function n(e){this.name="ArgumentError",this.message=e}e("es6-promise").polyfill(),t.exports=function(e,t){if(t=t||{},"function"!=typeof e)throw new n("fetch must be a function");if("object"!=typeof t)throw new n("defaults must be an object");if(void 0!==t.retries&&!i(t.retries))throw new n("retries must be a positive integer");if(void 0!==t.retryDelay&&!i(t.retryDelay)&&"function"!=typeof t.retryDelay)throw new n("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==t.retryOn&&!Array.isArray(t.retryOn)&&"function"!=typeof t.retryOn)throw new n("retryOn property expects an array or function");return t=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},t),function(r,o){var s=t.retries,a=t.retryDelay,c=t.retryOn;if(o&&void 0!==o.retries){if(!i(o.retries))throw new n("retries must be a positive integer");s=o.retries}if(o&&void 0!==o.retryDelay){if(!i(o.retryDelay)&&"function"!=typeof o.retryDelay)throw new n("retryDelay must be a positive integer or a function returning a positive integer");a=o.retryDelay}if(o&&o.retryOn){if(!Array.isArray(o.retryOn)&&"function"!=typeof o.retryOn)throw new n("retryOn property expects an array or function");c=o.retryOn}return new Promise((function(t,i){var n=function(n){e(r,o).then((function(e){Array.isArray(c)&&-1===c.indexOf(e.status)?t(e):"function"==typeof c?c(n,null,e)?u(n,null,e):t(e):n<s?u(n,null,e):t(e)})).catch((function(e){"function"==typeof c?c(n,e,null)?u(n,e,null):i(e):n<s?u(n,e,null):i(e)}))};function u(e,t,r){var i="function"==typeof a?a(e,t,r):a;setTimeout((function(){n(++e)}),i)}n(0)}))}}},{"es6-promise":1}],3:[function(e,t,r){t.exports=window.fetch||(window.fetch=e("unfetch").default||e("unfetch"))},{unfetch:7}],4:[function(e,t,r){!function(e,r){"use strict";"function"==typeof define&&define.amd?define(r):"object"==typeof t&&t.exports?t.exports=r():e.log=r()}(this,(function(){"use strict";var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&r?o:void 0!==console[i]?n(console,i):void 0!==console.log?n(console,"log"):e)}function a(t,r){for(var n=0;n<i.length;n++){var o=i[n];this[o]=n<t?e:this.methodFactory(o,t,r)}this.log=this.debug}function c(e,r,i){return function(){typeof console!==t&&(a.call(this,r,i),this[e].apply(this,arguments))}}function u(e,t,r){return s(e)||c.apply(this,arguments)}function d(e,r,n){var o,s=this,c="loglevel";function d(){var e;if(typeof window!==t){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,i=r.indexOf(encodeURIComponent(c)+"=");-1!==i&&(e=/^([^;]+)/.exec(r.slice(i))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}}e&&(c+=":"+e),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=n||u,s.getLevel=function(){return o},s.setLevel=function(r,n){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(o=r,!1!==n&&function(e){var r=(i[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[c]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+r+";"}catch(e){}}}(r),a.call(s,r,e),typeof console===t&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){d()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var l=d();null==l&&(l=null==r?"WARN":r),s.setLevel(l,!1)}var l=new d,f={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new d(e,l.getLevel(),l.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return l.noConflict=function(){return typeof window!==t&&window.log===l&&(window.log=p),l},l.getLoggers=function(){return f},l}))},{}],5:[function(e,t,r){var i,n,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,d=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?d=u.concat(d):f=-1,d.length&&v())}function v(){if(!l){var e=c(p);l=!0;for(var t=d.length;t;){for(u=d,d=[];++f<t;)u&&u[f].run();f=-1,t=d.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new g(e,t)),1!==d.length||l||c(v)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],6:[function(e,t,r){"use strict";const i=(e,t)=>{const r=Array.isArray(e)?[]:{};t.push(e);for(const[n,o]of Object.entries(e))"function"!=typeof o&&(o&&"object"==typeof o?t.includes(e[n])?r[n]="[Circular]":r[n]=i(e[n],t.slice()):r[n]=o);const n=["name","message","stack","code"];for(const t of n)"string"==typeof e[t]&&(r[t]=e[t]);return r},n=e=>"object"==typeof e?i(e,[]):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e;t.exports=n,t.exports.default=n},{}],7:[function(e,t,r){t.exports=function(e,t){return t=t||{},new Promise((function(r,i){var n=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var u in n.open(t.method||"get",e,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){o.push(t=t.toLowerCase()),s.push([t,r]),a[t]=a[t]?a[t]+","+r:r})),r(c())},n.onerror=i,n.withCredentials="include"==t.credentials,t.headers)n.setRequestHeader(u,t.headers[u]);n.send(t.body||null)}))}},{}],8:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./utils"),r),n(e("./model"),r)},{"./model":16,"./utils":23}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RenderingType=void 0,function(e){e.mvc="MvcRendering",e.javascript="JavaScriptRendering"}(r.RenderingType||(r.RenderingType={}))},{}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],16:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./DataItem"),r),n(e("./DataSourceItem"),r),n(e("./PageItem"),r),n(e("./PageMvcNode"),r),n(e("./RenderingContext"),r),n(e("./RenderingNode"),r),n(e("./TrackingNode"),r)},{"./DataItem":9,"./DataSourceItem":10,"./PageItem":11,"./PageMvcNode":12,"./RenderingContext":13,"./RenderingNode":14,"./TrackingNode":15}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.buildLayout=void 0;var i=e("@uniformdev/common"),n=e("."),o=e("..");r.buildLayout=function(e,t){void 0===t&&(t=!1);var r=e.item,s=e.home,a=e.datasources,c=e.html,u=e.uniformContext;if(!r)throw new Error("no page");if(!a)throw new Error("no datasources");if(!c)throw new Error("no html");var d=u&&u.logger?u.logger:n.noopLogger;d.debug("Rendering dynamic layout of "+r.id);var l={},f=r.renderings;if(!f)throw new Error("no renderings");for(var p=0;p<f.length;++p){var v=f[p];if(v&&v.id){var g=(v.placeholder||"").trim().toLowerCase()||"main",h=v.settings.DataSource?v.settings.DataSource.toLowerCase():"",m=i.tryParseGuid(h),y=v.componentName,b=m&&a[m]||void 0;if(!m||b||v.renderingType===o.RenderingType.mvc){var w=b||r,k={id:i.tryParseGuid(v.id),renderingId:i.tryParseGuid(v.renderingId),renderingType:v.renderingType,componentName:y,settings:v.settings,datasource:m||"",hidden:!1,renderingContext:{item:w,page:r,home:s||r,placeholders:l,datasources:a,html:c}};if(t&&v.settings.Rules){var _=v.settings.Rules.Rules;if(_&&_.length>0)for(var O=0;O<_.length;++O){var P=_[O];if("00000000-0000-0000-0000-000000000000"===P.UniqueId){var T=P.Actions;if(T&&T.length>0)for(var C=0;C<T.length;++C){"Sitecore.Rules.ConditionalRenderings.HideRenderingAction"===T[C].type&&(k.hidden=!0)}}}}l.hasOwnProperty(g)||(l[g]=[]),l[g].push(k),d.debug("Registering "+k.renderingId+" to "+g)}else d.warn("The '"+(y||v.id)+"' component's datasource '"+m+"' ('"+h+"') cannot be resolved.")}else d.error("Rendering #"+p+" has no id: ",JSON.stringify(v?v.id:"undefined rendering"))}return l}},{".":23,"..":8,"@uniformdev/common":31}],20:[function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.convertDataItemToRuntimeItem=void 0,r.convertDataItemToRuntimeItem=function e(t,r,n){if(!t)return null;var o=i(i({},t),{name:r||t.name,children:[]});(n||t.url)&&(o.url=n||t.url);var s=t.children;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a],u=n?n+(n.endsWith("/")?"":"/")+a+(n.endsWith("/")?"":"/"):void 0;o.children.push(e(c,a,u))}return o}},{}],21:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPageProps=exports.getHtml=exports.getDatasources=exports.getDataItem=exports.getPageItem=void 0;var common_1=require("@uniformdev/common"),common_2=require("@uniformdev/common"),getPageUrl_1=require("./getPageUrl"),convertDataItemToRuntimeItem_1=require("./convertDataItemToRuntimeItem"),noopLogger_1=require("./noopLogger");function getPageItem(e,t,r){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return[4,getDataItem(e,"page",t,r)];case 1:return[2,i.sent()]}}))}))}exports.getPageItem=getPageItem;var readFileAsync="undefined"==typeof window?eval("(require('util').promisify)(require('fs').readFile)"):void 0,existsAsync="undefined"==typeof window?eval("(require('util').promisify)(require('fs').exists)"):void 0;function getDataItem(e,t,r,i){return __awaiter(this,void 0,void 0,(function(){var n,o,s,a,c,u;return __generator(this,(function(d){switch(d.label){case 0:return readFileAsync&&existsAsync?((n="public/uniform/api/content/"+i.UNIFORM_API_SITENAME+"/"+t+e).endsWith("/")&&(n=n.substring(0,n.length-1)),[4,existsAsync(n+=".json")]):[3,3];case 1:return d.sent()?(s=(o=JSON).parse,[4,readFileAsync(n)]):[3,3];case 2:return[2,s.apply(o,[d.sent().toString()])];case 3:return a=getPageUrl_1.getPageUrl(e,t,i),r.debug("Making HTTP request (data): "+a),[4,common_1.fetchWithRetry(r,a,3)];case 4:if(200!==(c=d.sent()).status)throw new Error("No item, ajax request to "+c.url+" returned "+c.status+" code, text: "+c.statusText);return[4,c.json()];case 5:if(!(u=d.sent()).id)throw new Error("no item.id, "+a+", "+JSON.stringify(u));return[2,convertDataItemToRuntimeItem_1.convertDataItemToRuntimeItem(u,void 0,e)]}}))}))}function getDatasources(e){return __awaiter(this,void 0,void 0,(function(){var t,r,i,n,o;return __generator(this,(function(s){for(i in t=e.datasources||{},r={},t)t.hasOwnProperty(i)&&(n=convertDataItemToRuntimeItem_1.convertDataItemToRuntimeItem(t[i],void 0,void 0),o=common_2.parseGuid(i),r[o]=n);return[2,r]}))}))}function getHtml(e){var t;return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){return[2,(null===(t=e.mvc)||void 0===t?void 0:t.html)||{}]}))}))}function getPageProps(e,t,r){return void 0===r&&(r=noopLogger_1.noopLogger),__awaiter(this,void 0,void 0,(function(){var i,n,o,s,a;return __generator(this,(function(c){switch(c.label){case 0:if(r.debug("Rendering page with path: "+e),e&&e.startsWith("/-"))throw new Error("Must not be handled by page!");return[4,getPageItem(i=e+(e.endsWith("/")?"":"/"),r,t)];case 1:return n=c.sent(),o=n,[4,getDatasources(n)];case 2:return s=c.sent(),[4,getHtml(n)];case 3:if(a=c.sent(),!n)throw new Error("No context item passed");return r.debug("Resolved page '"+i+"'"),[2,{datasources:s,html:a,item:n,page:n,home:o,path:i}]}}))}))}exports.getDataItem=getDataItem,exports.getDatasources=getDatasources,exports.getHtml=getHtml,exports.getPageProps=getPageProps},{"./convertDataItemToRuntimeItem":20,"./getPageUrl":22,"./noopLogger":24,"@uniformdev/common":31}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPageUrl=void 0;var i=e("@uniformdev/common");r.getPageUrl=function(e,t,r){var n=r.UNIFORM_API_SITENAME,o=i.trim(e,"/");o||(o="");var s="/uniform/api/content/"+n+"/";return s+=o?t+"/"+o+".json":t+".json",i.getApiUrlWithToken(r,s)}},{"@uniformdev/common":31}],23:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./buildLayout"),r),n(e("./convertDataItemToRuntimeItem"),r),n(e("./popVisibleRenderingsFromPlaceholdersMap"),r),n(e("./getPageProps"),r),n(e("./getPageUrl"),r),n(e("./parsePlaceholderKey"),r),n(e("./UniformContextProps"),r),n(e("./PageComponentProps"),r),n(e("./noopLogger"),r),n(e("./scriptLoader"),r)},{"./PageComponentProps":17,"./UniformContextProps":18,"./buildLayout":19,"./convertDataItemToRuntimeItem":20,"./getPageProps":21,"./getPageUrl":22,"./noopLogger":24,"./parsePlaceholderKey":25,"./popVisibleRenderingsFromPlaceholdersMap":26,"./scriptLoader":27}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.noopLogger=void 0,r.noopLogger={debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}}},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parsePlaceholderKey=void 0;var i=e("@uniformdev/common");r.parsePlaceholderKey=function(e){return"/"===e?"/":(e=(e=e.trim()).toLowerCase(),e=(e=i.trimEnd(e,"/"))||"main")}},{"@uniformdev/common":31}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.popVisibleRenderingsFromPlaceholdersMap=void 0;var i=e("@uniformdev/common");r.popVisibleRenderingsFromPlaceholdersMap=function(e,t,r){var n=[];return i.keys(e).forEach((function(i){if(i==t||!i.startsWith("/")&&t.endsWith("/"+i)){var o=e[i];o.forEach((function(e,i){e&&!e.hidden&&(r.debug("Adding "+e.componentName+" ["+e.id+"] to "+t+" (and removing from list of free renderings)"),n.push(e),o[i]=void 0)}))}})),n}},{"@uniformdev/common":31}],27:[function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.getClientScriptLoader=void 0;var o=e("@uniformdev/common");function s(e,t){return i(this,void 0,void 0,(function(){var r,i,s,c,u,d,l,f,p;return n(this,(function(n){switch(n.label){case 0:if(r=t.cachedScripts,i=void 0===r?{}:r,s=t.callback,c=t.logger,u=void 0===c?o.getNullLogger():c,0==(d=Object.keys(e)).length)return[2,!0];if(l=[],d.forEach((function(t){i[t]!=e[t]&&l.push(t)})),0==l.length)return[2,!0];f=[],l.forEach((function(t){var r=e[t];f.push(a.js({id:t,url:r}))})),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Promise.all(f)];case 2:return(p=n.sent()).forEach((function(e){i[e.id]=e.url})),s&&(u.debug("Client script loader - Scripts were loaded so invoking callback.",{scripts:e}),s()),u.debug("Client script loader - Finished loading scripts.",{scripts:p}),[2,!0];case 3:return n.sent(),u.error("Client script loader - Error while loading scripts.",{scripts:e}),[2,!1];case 4:return[2]}}))}))}r.getClientScriptLoader=function(){return{type:"default",load:s}};var a={css:c("link"),js:c("script"),img:c("img")};function c(e){return function(t){return new Promise((function(r,i){var n=document.createElement(e),o=document.body,s="src";switch(n.onload=function(){r(t)},n.onerror=function(){n.remove(),i(t)},e){case"script":n.async=1!=t.notAsync,o=document.head;break;case"link":n.type="text/css",n.rel="stylesheet",s="href",o=document.head}var a=document.createAttribute(s);a.value=t.url,n.attributes.setNamedItem(a),o.appendChild(n)}))}}},{"@uniformdev/common":31}],28:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./subscriptions"),r),n(e("./queue"),r)},{"./queue":29,"./subscriptions":30}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getUniformQueue=void 0;var i=e("./subscriptions");r.getUniformQueue=function(){var e=new Map,t=i.getSubscriptionManager();return{add:function(r,i){var n,o=null!==(n=e.get(r))&&void 0!==n?n:[];-1==o.indexOf(i)&&(null==o||o.push(i),t.publish({type:r,when:new Date,entry:i})),e.set(r,o)},get:function(t){var r=e.get(t);if(r)return r.shift()},count:function(t){var r=e.get(t);return r?r.length:0},subscribe:function(e,r){return t.subscribe(e,r)}}}},{"./subscriptions":30}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSubscriptionManager=void 0,r.getSubscriptionManager=function(e){return new i(e)};var i=function(){function e(e){void 0===e&&(e=!1),this.allEvents=[],this.isGlobal=e,this.map=new Map,this.publish=this.publish.bind(this),this.subscribe=this.subscribe.bind(this),this.getSubscribers=this.getSubscribers.bind(this)}return e.prototype.subscribe=function(e,t){var r=this.map.get(e);return r||(r=[],this.map.set(e,r)),-1==r.indexOf(t)&&(r.push(t),this.map.set(e,r)),function(){var e=r.indexOf(t);return-1!=e&&(r.splice(e,1),!0)}},e.prototype.publish=function(e){var t;if(!0!==e.silent){var r=this.map.get(e.type);r&&r.forEach((function(t){return t(e)}));var i=this.map.get(void 0);i&&i.forEach((function(t){return t(e)})),1!=this.isGlobal&&(null===(t=window.uniform)||void 0===t?void 0:t.subscriptions)&&window.uniform.subscriptions.publish(e)}},e.prototype.getSubscribers=function(e){var t;return null!==(t=this.map.get(e))&&void 0!==t?t:[]},e}()},{}],31:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./events"),r),n(e("./logging"),r),n(e("./model"),r),n(e("./util"),r)},{"./events":28,"./logging":34,"./model":36,"./util":45}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getNullLogger=r.NullLogger=void 0,r.NullLogger={debug:function(){},error:function(){},info:function(){},trace:function(){},warn:function(){}},r.getNullLogger=function(){return r.NullLogger}},{}],33:[function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createConsoleLogger=void 0;var n=i(e("loglevel"));r.createConsoleLogger=function(e){var t=e.UNIFORM_OPTIONS_DEBUG?"debug":"warn";return n.default.setLevel(t),n.default}},{loglevel:4}],34:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./Logger"),r),n(e("./createConsoleLogger"),r)},{"./Logger":32,"./createConsoleLogger":33}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],36:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./UniformConfig"),r)},{"./UniformConfig":35}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.appendArray=r.flattenArray=void 0,r.flattenArray=function e(t,r){if(Array.isArray(t))for(var i=0;i<t.length;i++){var n=t[i];null!=n&&null!=n&&(Array.isArray(n)?e(n,r):-1==r.indexOf(n)&&r.push(n))}},r.appendArray=function(e,t){e&&e.forEach((function(e){-1==t.indexOf(e)&&t.push(e)}))}},{}],38:[function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.errorToJsonObject=void 0;var n=i(e("serialize-error"));r.errorToJsonObject=function(e){var t=n.default(e),r=e.data;return r&&(t.data=r),t}},{"serialize-error":6}],39:[function(e,t,r){(function(t){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.fetchWithRetry=void 0;var s=o(e("fetch-retry")),a=o(e("isomorphic-unfetch")),c=e(".."),u=s.default(a.default);r.fetchWithRetry=function(e,r,o,s){return void 0===o&&(o=3),i(this,void 0,void 0,(function(){var i,a;return n(this,(function(n){switch(n.label){case 0:return s=s||parseInt(c.getEnv(t.env,"UNIFORM_PUBLISH_PREFETCH_REQUEST_TIMEOUT","10000")),e.debug("HTTP request to "+r+(o>1?" (with max "+o+" retries)":"")+", timeout: "+s+"ms"),i=0,[4,u(r,{timeout:s,retries:o-1,retryOn:function(t,r,i){return!(t>=o)&&(i?200!==i.status&&404!==i.status:(e.debug("Keep retrying because no response"),!0))},retryDelay:function(t,n,o){i+=1;var s=1e3*Math.pow(2,t);return e.warn("Will retry in "+s/1e3+"s, url: "+r),s}})];case 1:return a=n.sent(),i&&e.info("Url was fetched after "+i+" attempts: "+r),[2,a]}}))}))}}).call(this,e("_process"))},{"..":31,_process:5,"fetch-retry":2,"isomorphic-unfetch":3}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getApiUrlWithToken=void 0,r.getApiUrlWithToken=function(e,t){var r=e.UNIFORM_API_URL,i=new URL(r.endsWith("/")?r:r+"/");return t&&(i=new URL(t.startsWith(".")?t:"."+t,i)),e.UNIFORM_OPTIONS_PREVIEW&&i.searchParams.set("uniform_preview","true"),i.href.toLowerCase()}},{}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getEnvEx=r.getBoolEnv=r.getEnv=void 0;var i=e("..");function n(e,t,r){return void 0===r&&(r=void 0),void 0===e?void 0===r?i.throwException("FATAL .env file lacks "+t+" value"):r:"[object String]"===Object.prototype.toString.call(e)?e.trim():e}r.getEnv=function(e,t,r){return void 0===r&&(r=void 0),n(e[t],t,r)},r.getBoolEnv=function(e,t,r){void 0===r&&(r=void 0);var n=e[t];return void 0===n?void 0===r?i.throwException("FATAL .env file lacks "+t+" bool value"):r:"true"===(n=n.toString().trim().toLowerCase())||"1"===n||"yes"===n},r.getEnvEx=n},{"..":31}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getNestedObjectProp=void 0,r.getNestedObjectProp=function(e,t,r){return t.split(".").reduce((function(e,t){return e?e[t]:r}),e)}},{}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPropertyByPath=void 0,r.getPropertyByPath=function(e,t,r){return t.split(".").reduce((function(e,t){return e&&e[t]||r}),e)}},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.initializeGlobalObject=void 0;var i=e("../events/subscriptions"),n=e("../events/queue");r.initializeGlobalObject=function(){window&&(window.uniform||(window.uniform={}),window.uniform.subscriptions||(window.uniform.subscriptions=i.getSubscriptionManager(!0)),window.uniform.queue||(window.uniform.queue=n.getUniformQueue()))}},{"../events/queue":29,"../events/subscriptions":30}],45:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),n(e("./throwException"),r),n(e("./keys"),r),n(e("./surround"),r),n(e("./parseGuid"),r),n(e("./tryParseGuid"),r),n(e("./tryFormatGuid"),r),n(e("./getEnv"),r),n(e("./getEnv"),r),n(e("./trim"),r),n(e("./replace"),r),n(e("./errorToJsonObject"),r),n(e("./getPropertyByPath"),r),n(e("./getApiUrlWithToken"),r),n(e("./getNestedObjectProp"),r),n(e("./parseUniformConfig"),r),n(e("./fetchWithRetry"),r),n(e("./global"),r),n(e("./arrays"),r),n(e("./objects"),r)},{"./arrays":37,"./errorToJsonObject":38,"./fetchWithRetry":39,"./getApiUrlWithToken":40,"./getEnv":41,"./getNestedObjectProp":42,"./getPropertyByPath":43,"./global":44,"./keys":46,"./objects":47,"./parseGuid":48,"./parseUniformConfig":49,"./replace":50,"./surround":51,"./throwException":52,"./trim":53,"./tryFormatGuid":54,"./tryParseGuid":55}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.keys=void 0,r.keys=function(e){return e&&Object.getOwnPropertyNames(e)||[]}},{}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.appendObject=void 0,r.appendObject=function(e,t){e&&Object.keys(e).forEach((function(r){t[r]=e[r]}))}},{}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseGuid=void 0;var i=e("..");r.parseGuid=function(e){return i.tryParseGuid(e)||i.throwException("Cannot parse GUID: "+e)}},{"..":31}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseUniformConfig=void 0;var i=e("..");r.parseUniformConfig=function(e,t){void 0===t&&(t=!0);var r=i.getEnv(e,"UNIFORM_API_URL",t?void 0:"");return{UNIFORM_API_URL:r,UNIFORM_API_SITENAME:i.getEnv(e,"UNIFORM_API_SITENAME",t?void 0:""),UNIFORM_CONTENT_URL:i.getEnv(e,"UNIFORM_CONTENT_URL",r),UNIFORM_API_MAPSERVICE:i.getEnv(e,"UNIFORM_API_MAPSERVICE","/uniform/api/content/${UNIFORM_API_SITENAME}/map.json"),UNIFORM_OPTIONS_PREVIEW:i.getBoolEnv(e,"UNIFORM_OPTIONS_PREVIEW",!0),UNIFORM_OPTIONS_DEBUG:i.getBoolEnv(e,"UNIFORM_OPTIONS_DEBUG",!1),UNIFORM_OPTIONS_PREFETCH_LINKS:i.getBoolEnv(e,"UNIFORM_OPTIONS_PREFETCH_LINKS",!1),UNIFORM_OPTIONS_MVC_SPA_ENABLED:i.getBoolEnv(e,"UNIFORM_OPTIONS_MVC_SPA_ENABLED",!0)}}},{"..":31}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.replace=void 0,r.replace=function(e,t,r){var i=t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");return e.replace(new RegExp(i,"g"),r)}},{}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.surround=void 0,r.surround=function(e,t){return e?(e.startsWith(t)?"":t)+e+(e.endsWith(t)?"":t):t}},{}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.throwException=void 0,r.throwException=function(e){if("object"==typeof e&&e.stack)throw e;throw new Error(e||"Unknown error occurred, check stacktrace to get more info.")}},{}],53:[function(e,t,r){"use strict";function i(e,t){for(var r=-1;e.charAt(++r)===t;);return r}function n(e,t){for(var r=e.length;e.charAt(--r)===t;);return r+1}Object.defineProperty(r,"__esModule",{value:!0}),r.trimEnd=r.trimStart=r.trim=void 0,r.trim=function(e,t){return e.slice(i(e,t),n(e,t))},r.trimStart=function(e,t){return e.slice(i(e,t))},r.trimEnd=function(e,t){return e.slice(0,n(e,t))}},{}],54:[function(e,t,r){"use strict";function i(e){var t=e.replace(/[{}-]/g,"");return 32!==t.length?"":t}function n(e){if(36===e.length&&"-"===e[8])return e;var t=i(e);return t?t.substring(0,8)+"-"+t.substring(8,12)+"-"+t.substring(12,16)+"-"+t.substring(16,20)+"-"+t.substring(20,32):""}Object.defineProperty(r,"__esModule",{value:!0}),r.tryFormatGuid=void 0,r.tryFormatGuid=function(e,t){if(!e)return"";var r=e.toLowerCase();switch(t){case"N":return i(r);case"D":return n(r);case"B":return function(e){if(38===e.length&&"{"===e[0]&&"-"===e[9])return e;var t=n(e);return t?"{"+t+"}":""}(r);default:throw new Error("format arg: unknown guid format")}}},{}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tryParseGuid=void 0;var i=/^([0-9A-F]{32})|[\{\[\(]?([0-9A-F]{8})\-([0-9A-F]{4})\-([0-9A-F]{4})\-([0-9A-F]{4})\-([0-9A-F]{12})[\]\}\)]?$/i;r.tryParseGuid=function(e){var t=i.exec(e||"");return t?t.reduce((function(e,t,r){return e+(r>0&&t?t:"")}),"").toLowerCase():""}},{}],56:[function(e,t,r){"use strict";r.__esModule=!0,r.getCookieValues=r.removeCookie=r.setCookie=r.getCookie=void 0;var i=e("@uniformdev/tracking");r.getCookie=i.getCookie,r.setCookie=i.setCookie,r.removeCookie=i.removeCookie,r.getCookieValues=function(e){var t=i.getCookie(e);return t?t.split(","):[]}},{"@uniformdev/tracking":84}],57:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};r.__esModule=!0,n(e("./tracker"),r),n(e("./visit"),r),n(e("./visitor"),r),n(e("./cookie"),r)},{"./cookie":56,"./tracker":58,"./visit":59,"./visitor":60}],58:[function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};r.__esModule=!0,r.doTracking=r.initializeTracker=r.gaElems=r.gaNewElem=void 0;var s=e("@uniformdev/tracking"),a=e("@uniformdev/common"),c=e("@uniformdev/common-client"),u={debug:function(e,t){console.log((new Date).toISOString()+" [Uniform Tracker  DEBUG] "+e,t)},error:function(e,t){console.log((new Date).toISOString()+" [Uniform Tracker  ERROR] "+e,t)},info:function(e,t){console.log((new Date).toISOString()+" [Uniform Tracker   INFO] "+e,t)},trace:function(e,t){console.log((new Date).toISOString()+" [Uniform Tracker  TRACE] "+e,t)},warn:function(e,t){console.log((new Date).toISOString()+" [Uniform Tracker   WARN] "+e,t)}};function d(e){return 1==(null==e?void 0:e.debug)?u:a.getNullLogger()}function l(e){var t,u,l;return n(this,void 0,void 0,(function(){var n,f,p,v,g,h,m,y,b,w;return o(this,(function(o){switch(o.label){case 0:if(n=d(e),!(f=function(e,t){var r,i;return(null===(r=null==e?void 0:e.context)||void 0===r?void 0:r.tracking)?(t.debug("Uniform tracking - initializeTracker - Using tracking config from settings to determine tracker cookie types.",{settings:e}),e.context):(null===(i=window.uniform)||void 0===i?void 0:i.tracking)?(t.debug("Uniform tracking - initializeTracker - Using tracking config from global object to determine tracker cookie types.",{global:window.uniform}),window.uniform.tracking):void 0}(e,n)))return n.error("Uniform tracking - initializeTracker - Unable to resolve tracking config so tracker cannot be initialized.",{settings:e}),[2,Promise.resolve(void 0)];if(!(null===(t=f.settings)||void 0===t?void 0:t.scripts))return[3,4];if((p=i({},f.settings.scripts)).optimize&&(delete p.optimize,n.debug("Uniform tracking - initializeTracker - Optimize script was removed from the collection of client scripts to load because that script is running this code.",{scripts:p})),!(v=c.getClientScriptLoader()))return n.error("Uniform tracking - initializeTracker - Unable to resolve script loader so tracker cannot be initialized.",{trackingConfig:f}),[2,Promise.resolve(void 0)];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,v.load(p,{logger:n})];case 2:return o.sent(),n.debug("Uniform tracking - initializeTracker - Scripts finished loading.",{scripts:p}),[3,4];case 3:return g=o.sent(),n.error("Uniform tracking - initializeTracker - Error occurred while loading scripts so tracker cannot be initialized.",{trackingConfig:f,scripts:p,error:g}),[2,Promise.reject(g)];case 4:return h=function(e,t){if(e){var r=e.split(".");r.length>1&&"window"==r[0]&&r.splice(0,1);for(var i=window,o=0;o<r.length&&i;o++)i=i[r[o]];null!=i&&"function"==typeof i?i&&m.subscribe(t,i):n.error("Uniform tracking - initializeTracker - Unable to add a tracker subscription because the specified function does not exist.",{name:e,type:t})}},m=a.getSubscriptionManager(),function(e){return"mvc"==(null==e?void 0:e.mode)}(e)&&(n.debug("Uniform tracking - initializeTracker - Adding subscriptions for context cookies.",{settings:e}),function(e,t,r){var i=s.getTrackerCookieTypes(e);s.addSubscriptionsForTrackerCookies(t,{cookieTypes:i,logger:r,loggerPrefix:"Uniform tracking - initializeTracker",getCookie:s.getCookie,removeCookie:s.removeCookie,setCookie:s.setCookie})}(f,m,n)),h(e.onTrackingFinished,"tracking-finished"),h(e.onVisitCreated,"visit-created"),h(e.onVisitUpdated,"visit-updated"),h(e.onVisitorUpdated,"visitor-updated"),y=s.getDispatchersFromTrackingConfig(f,{getCookie:s.getCookie,logger:n,loggerPrefix:"Uniform tracking - initializeTracker",removeCookie:s.removeCookie,setCookie:s.setCookie,ga:{initializeGa:function(e,t){var i,n,o,s,a,c,u;return window.ga||(t.error("Uniform tracking - initializeTracker - The global function ga is not defined, so initializing the GA library.",{destination:e}),u=new Date,i=window,n=document,o="script",s="ga",a=r.gaNewElem,c=r.gaElems,i.GoogleAnalyticsObject=s,i.ga=i.ga||function(){(i.ga.q=i.ga.q||[]).push(arguments)},i.ga.l=1*u,a=n.createElement(o),c=n.getElementsByTagName(o)[0],a.async=1,a.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(a,c)),window.ga?e.trackingIds?(e.trackingIds.forEach((function(r){try{window.ga("create",r,"auto"),t.debug("Uniform tracking - initializeTracker - GA tracker object was created.",{trackingId:r,destination:e})}catch(e){t.error("Uniform tracking - initializeTracker - Error while creating GA tracker object.",{trackingId:r,error:e})}})),!0):(t.debug("Uniform tracking - initializeTracker - No tracking ids set on GA destination so no GA tracker objects will be created.",{destination:e}),!1):(t.error("Uniform tracking - initializeTracker - The global function ga is not defined, suggesting the GA library has not been loaded.",{destination:e}),!1)}}}),b={dispatchers:y,sessionTimeout:null!==(u=e.sessionTimeout)&&void 0!==u?u:20,storage:null!==(l=e.storage)&&void 0!==l?l:"default",subscriptions:m,type:"js"},(w=s.getSitecoreTracker(b,n))?(window.uniform||(window.uniform={}),window.uniform.tracker=w,[2,Promise.resolve(w)]):(n.error("Uniform tracking - initializeTracker - No tracker was returned from getSitecoreTracker.",{args:b}),[2,Promise.resolve(void 0)])}}))}))}r.gaNewElem={},r.gaElems={},r.initializeTracker=l,r.doTracking=function(e){var t,r=d(e);if(window.uniform){var i=e.source;if(i){var n=null!==(t=e.context)&&void 0!==t?t:window.uniform;if(n){var o=function(t){if(t){r.debug("Uniform tracking - doTracking - Tracker is available.",{settings:e});var o=s.getCookie(s.UniformCookieNames.VisitorId);r.debug("Uniform tracking - doTracking - Visitor id was retrieved from cookie.",{visitorId:o,cookie:s.UniformCookieNames.VisitorId});var a=t.track(i,n,{visitorId:o,createVisitor:!0,silent:e.silent});r.debug("Uniform tracking - doTracking - Tracking results were returned.",{results:a}),a&&a.visitor&&(s.setCookie(s.UniformCookieNames.VisitorId,a.visitor.id),r.debug("Uniform tracking - doTracking - Visitor id cookie was updated.",{visitorId:o,cookie:s.UniformCookieNames.VisitorId}))}else r.error("Uniform tracking - doTracking - No tracker is available.",{settings:e})};window.uniform.tracker?(r.debug("Uniform tracking - doTracking - Using the tracker set on the global object.",{settings:e}),o(window.uniform.tracker)):l(e).then((function(t){r.debug("Uniform tracking - doTracking - Using the newly initialized tracker.",{settings:e}),o(t),r.debug("Uniform tracking - doTracking - Tracking is finished.",{settings:e})}))}else r.warn("Uniform tracking - doTracking - No context was was resolved.",{settings:e})}else r.error("Uniform tracking - doTracking - No source was specified.",{settings:e})}}},{"@uniformdev/common":31,"@uniformdev/common-client":8,"@uniformdev/tracking":84}],59:[function(e,t,r){"use strict";r.__esModule=!0,r.getVisitGoals=void 0;var i=e("@uniformdev/tracking");r.getVisitGoals=function(e){return i.getVisitActivities("goal",e)}},{"@uniformdev/tracking":84}],60:[function(e,t,r){"use strict";function i(){var e;return null===(e=null===window||void 0===window?void 0:window.uniform)||void 0===e?void 0:e.visitor}r.__esModule=!0,r.getVisitorProfilePatternMatch=r.getVisitorProperty=void 0,r.getVisitorProperty=function(e){if(e){var t=i();if(t){var r=Object.keys(t).findIndex((function(t){return t==e}));if(-1!=r)return Object.values(t)[r]}}},r.getVisitorProfilePatternMatch=function(e,t){var r,n;if(e){var o=i();if(o){var s=null===(n=null===(r=o.data)||void 0===r?void 0:r.patterns)||void 0===n?void 0:n.data;if(s&&s[e])return!0===t?s[e].patternId:s[e].name}}}},{}],61:[function(e,t,r){"use strict";r.__esModule=!0,r.GaDestination=void 0;var i=function(e,t){this.type="ga",this.trackingIds=e,Object.assign(this,t)};r.GaDestination=i},{}],62:[function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};r.__esModule=!0,r.GaDispatcher=void 0;var n=function(){function e(e,t){this.requiresBrowser=!0,this.type="ga",this.activities=null==t?void 0:t.activities,this.converters=e,this.trackingIds=null==t?void 0:t.trackingIds,this.setCustomDimensionValues=null==t?void 0:t.setCustomDimensionValues}return e.prototype.getCustomDimensionFields=function(e,t){var r={},i=new Map;return this.setCustomDimensionValues&&this.setCustomDimensionValues(e,i),i.forEach((function(e,t){r["dimension"+t]=e})),t.debug("GA dispatcher - Converted tracking results into Google Analytics custom dimensions.",{map:i,fields:r}),r},e.prototype.dispatchActivity=function(e,t){var r,n=this;if(e)if(window.ga)if(this.activities&&0==this.activities.length)t.debug("GA dispatcher - An empty array of activities was specified so no activities will be dispatched.");else{var o=[];e.visitActivities.forEach((function(e){if(n.activities&&-1==n.activities.indexOf(e.type))t.debug("GA dispatcher - The activity type was not selected as an activity to dispatch.",{type:e.type,allowed:n.activities,activity:e});else for(var r=0;r<n.converters.length;r++){var i=n.converters[r].convert(e);i?(t.debug("GA dispatcher - The activity was converted into a format that can be dispatched.",{activity:e,gaEvent:i}),o.push(i)):t.debug("GA dispatcher - The activity was not converted into a format that can be dispatched.",e)}}));var s=this.getCustomDimensionFields(e,t);if(0==o.length)return t.debug("GA dispatcher - No GA events were resolved, so no events will be dispatched."),void(s&&Object.keys(s).length>0&&t.debug("GA dispatcher - Since no events will be dispatched, no custom dimensions will be dispatched.",s));null===(r=this.trackingIds)||void 0===r||r.forEach((function(e){t.debug("GA dispatcher - Creating tracker for tracking id "+e),window.ga("create",e,"auto",e)}));var a=this.trackingIds;window.ga((function(e){var r=[];a?(t.debug("GA dispatcher - Events will be dispatched to the specified Google Analytics tracker(s).",{trackingIds:a}),null==a||a.forEach((function(e){var t=window.ga.getByName(e);t&&r.push(t)}))):(t.debug("GA dispatcher - No tracking ids were specified, so events will be dispatched to all Google Analytics trackers."),window.ga.getAll().forEach((function(e){r.push(e)}))),0!=r.length?(t.debug("GA dispatcher - Ready to dispatch events to Google Analytics.",{events:o,trackers:r.map((function(e){return e.get("name")}))}),r.forEach((function(e){o.forEach((function(r){!function(e,t,r,n){r.nonInteraction=!0;var o=e.get("trackingId");e.send("event",t.category,t.action,t.label,t.value,r),n.debug("GA dispatcher - Event dispatched to Google Analytics.",i(i({trackingId:o},t),{fields:r}))}(e,r,s,t)}))}))):t.debug("GA dispatcher - No trackers were resolved, so no events will be dispatched to Google Analytics.",{trackingIds:a})}))}else t.error("GA dispatcher - GA tracking script has not been loaded. The tracking script must be loaded before the GA dispatcher can dispatch events to GA. Dispatch aborted.",{trackingIds:this.trackingIds,activity:e});else t.debug("GA dispatcher - No tracked activity results are available to dispatch.")},e}();r.GaDispatcher=n},{}],63:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};r.__esModule=!0,n(e("./ga/destination"),r),n(e("./ga/dispatcher"),r),n(e("./oracleDmp/contextReaders"),r),n(e("./oracleDmp/destination"),r),n(e("./oracleDmp/dispatcher"),r),n(e("./sitecore/tracker"),r),n(e("./sitecore/gaEventConverter"),r),n(e("./sitecore/oracleDmpEventConverter"),r),n(e("./sitecore/contextReaders"),r),n(e("./sitecore/activities"),r),n(e("./sitecore/destination"),r),n(e("./sitecore/dispatcher"),r),n(e("./sitecore/cookies"),r),n(e("./sitecore/profiles"),r)},{"./ga/destination":61,"./ga/dispatcher":62,"./oracleDmp/contextReaders":64,"./oracleDmp/destination":65,"./oracleDmp/dispatcher":66,"./sitecore/activities":67,"./sitecore/contextReaders":68,"./sitecore/cookies":69,"./sitecore/destination":70,"./sitecore/dispatcher":71,"./sitecore/gaEventConverter":72,"./sitecore/oracleDmpEventConverter":73,"./sitecore/profiles":75,"./sitecore/tracker":77}],64:[function(e,t,r){"use strict";r.__esModule=!0,r.getOracleDmpContextReader=void 0;var i=e("@uniformdev/common"),n=e("../../models");r.getOracleDmpContextReader=function(){return{type:"oracleDmp",getTrackedActivity:function(e,t){var r=t.url,o=t.context,s=t.visit,a=t.visitor,c=t.date,u=t.logger,d=void 0===u?i.getNullLogger():u;console.log(r+c);var l=new n.TrackedActivityResults(s,a);return"oracleDmp"!==e||d.debug("Oracle DMP context reader - Reading tracking activity from context.",{context:o}),l}}}},{"../../models":85,"@uniformdev/common":31}],65:[function(e,t,r){"use strict";r.__esModule=!0,r.OracleDmpDestination=void 0;var i=function(e,t){this.type="oracleDmp",this.containerIds=e,Object.assign(this,t)};r.OracleDmpDestination=i},{}],66:[function(e,t,r){"use strict";function i(e){if(e)return"callback_"+e}r.__esModule=!0,r.OracleDmpDispatcher=r.getOracleDmpCallbackName=void 0,r.getOracleDmpCallbackName=i;var n=function(){function e(e,t){this.requiresBrowser=!0,this.type="oracleDmp",this.activities=null==t?void 0:t.activities,this.converters=e,this.containerIds=null==t?void 0:t.containerIds}return e.prototype.dispatchActivity=function(e,t){var r,n=this;if(e)if(this.containerIds&&0==this.containerIds.length)t.debug("Oracle DMP dispatcher - An empty array of tracking ids means dispatch is disabled.",{activity:e});else if(window.bk_doCallbackTag)if(this.activities&&0==this.activities.length)t.debug("Oracle DMP dispatcher - An empty array of activities was specified so no activities will be dispatched.");else{var o=[];e.visitActivities.forEach((function(e){if(n.activities&&-1==n.activities.indexOf(e.type))t.debug("Oracle DMP dispatcher - The activity type was not selected as an activity to dispatch.",{type:e.type,allowed:n.activities,activity:e});else for(var r=0;r<n.converters.length;r++){var i=n.converters[r].convert(e);i?(t.debug("Oracle DMP dispatcher - The activity was converted into a format that can be dispatched.",{activity:e,phints:i}),o.push(i)):t.debug("Oracle DMP dispatcher - The activity was not converted into a format that can be dispatched.",e)}})),0!=o.length?(window.bk_allow_multiple_calls=!0,window.bk_use_multiple_iframes=!0,null===(r=this.containerIds)||void 0===r||r.forEach((function(e){t.debug("Oracle DMP dispatcher - Adding phints to page context for container "+e,o),o.forEach((function(e){Object.keys(e).forEach((function(t){window.bk_addPageCtx(t,e[t])}))}));var r=i(e);r?(t.debug("Oracle DMP dispatcher - Dispatching phints to container "+e,{callbackName:r,phintsArray:o}),window.bk_doCallbackTag(e,r)):t.error("Oracle DMP dispatcher - Unable to determine callback name for container "+e)}))):t.debug("Oracle DMP dispatcher - No Oracle DMP phints were resolved, so no phints will be dispatched.")}else t.error("Oracle DMP dispatcher - Oracle DMP tracking script has not been loaded. The tracking script must be loaded before phints can be dispatched. Dispatch aborted.",{containerIds:this.containerIds,activity:e});else t.debug("Oracle DMP dispatcher - No tracked activity results are available to dispatch.")},e}();r.OracleDmpDispatcher=n},{}],67:[function(e,t,r){"use strict";r.__esModule=!0,r.getVisitActivities=void 0,r.getVisitActivities=function(e,t){var r,i={};if(t){var n=null===(r=t.data)||void 0===r?void 0:r.activities;if(n)n.filter((function(t){return t.type==e})).forEach((function(e){var t,r,n=null===(t=e.data)||void 0===t?void 0:t.id,o=new Date(e.date);if(n&&o){var s=null!==(r=i[n])&&void 0!==r?r:[];s.push(o),i[n]=s}}))}return i}},{}],68:[function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};r.__esModule=!0,r.getSitecoreContextReader=r.CONTEXT_SOURCE_SITECORE=void 0;var n=e("../../models/trackedActivity"),o=e("./patternMatchers"),s=e("@uniformdev/common"),a=e("./scoring"),c=e("../../cookies"),u=e("../../trackers");function d(e,t,r,n){var s,d;e.page?function(e,t,r,i){if(!e)return;t.visitActivities.push({type:"page view",date:r,data:e})}(e.page,r,t):n.debug("Sitecore context reader - No page was found in the context so page view will be tracked.",e),e.goals?function(e,t,r,n){if(!e)return;Object.keys(e).forEach((function(n){var o=e[n];t.visitActivities.push({type:"goal",date:r,data:i({id:n},o)})}))}(e.goals,r,t):n.debug("Sitecore context reader - No goals were found in the context so none will be tracked.",e),e.pageEvents?function(e,t,r,n){if(!e)return;Object.keys(e).forEach((function(n){var o=e[n];t.visitActivities.push({type:"page event",date:r,data:i({id:n},o)})}))}(e.pageEvents,r,t):n.debug("Sitecore context reader - No page events were found in the context so none will be tracked.",e),e.campaigns?function(e,t,r,i){if(!e)return;var n=function(e,t,r){var i=[];if(e)for(var n in e){var o=e[n];i.push({id:n,name:o.name})}return i}(e);if(0==n.length)return;n.forEach((function(e){t.visitActivities.push({type:"campaign",date:r,data:e})})),t.visitUpdates.push({type:"campaign",date:r,data:n[n.length-1]})}(e.campaigns,r,t):n.debug("Sitecore context reader - No campaigns were found in the context so none will be tracked.",e);var l=function(e){if(!(null==e?void 0:e.goals))return 0;var t=0;return Object.keys(e.goals).forEach((function(r){var i=e.goals[r];isNaN(null==i?void 0:i.points)||(t+=i.points)})),Object.keys(e.pageEvents).forEach((function(r){var i=e.pageEvents[r];isNaN(null==i?void 0:i.points)||(t+=i.points)})),t}(e);0==l?n.debug("Sitecore context reader - No changes to engagement value were found in the context so it will not be updated.",e):function(e,t,r,i){if(isNaN(e)||e<=0)return;var n=function(t){var i,n;t.data||(t.data={});var o=null!==(n=null===(i=t.data.value)||void 0===i?void 0:i.data)&&void 0!==n?n:0;t.data.value={date:r,data:o+e}};t.visitUpdateCommands.push((function(e){n(e)})),t.visitorUpdateCommands.push((function(e){n(e)}))}(l,r,t),e.profiles?function(e,t,r,i){if(!e||!t.visit)return;var n=o.getPatternMatcher();n||i.warn("Sitecore context reader - No pattern matcher was resolved, so no pattern matches will be tracked.");var s={},c={},u={},d={};Object.keys(e).forEach((function(o){var l=e[o],h=a.getScorer(l.type);if(h){var m={id:o,keys:{}};if(Object.keys(l.keys).forEach((function(e){var t=l.keys[e];m.keys[e]=t.value})),0!=Object.keys(m.keys).length){t.visitActivities.push({type:"profile score",date:r,data:m});var y=f(o,t.visit),b=p(o,t.visit),w=h(y,o,l,b),k=f(o,t.visitor),_=p(o,t.visitor),O=h(k,o,l,_);s[o]||(s[o]={updateCount:0});var P=s[o];c[o]||(c[o]={updateCount:0});var T=c[o];P.updateCount=w.updateCount,T.updateCount=O.updateCount,v(w,P,l),s[o]=P,v(O,T,l),c[o]=T,g(n,l,w,u,o),g(n,l,O,d,o)}else i.debug("Sitecore context reader - No profile key values were greater than zero, so this profile will not be tracked.",l)}else i.error("Sitecore context reader - No scorer was resolved, so this profile will not be tracked.",l)}));var l=h(r,s,u);0==l.length?i.debug("Sitecore context reader - No profile scores changed on the visit, so no profile scoring will be tracked."):l.forEach((function(e){t.visitUpdates.push(e)}));var m=h(r,c,d);0==m.length?i.debug("Sitecore context reader - No profile scores changed on the visitor, so no profile scoring will be tracked."):m.forEach((function(e){t.visitorUpdates.push(e)}))}(e.profiles,r,t,n):n.debug("Sitecore context reader - No profiles were found in the context so none will be tracked.",e);var m=null===(d=null===(s=null===window||void 0===window?void 0:window.uniform)||void 0===s?void 0:s.tracking)||void 0===d?void 0:d.personalization;m?function(e,t,r,n){if(!e)return;Object.keys(e).forEach((function(o){var s=e[o];if(s){var a=s.activity;if(a){var d=c.getCookie(u.UniformCookieNames.Testing);if(d){var l=d.split("|");if(2==l.length){var f="T"==l[1];1!=a.isIncludedInTest&&f&&(n.debug("Sitecore context reader - Setting the isIncludedInTest value on the personalization event to true in order to match the testing cookie value.",{key:o,data:a}),a.isIncludedInTest=!0)}}var p={type:"personalization",date:r,data:a};n.debug("Sitecore context reader - Adding personalization activity from origin-based personalization.",{event:p}),t.visitActivities.push(p),n.debug("Sitecore context reader - Origin-based personalization event was handled, so remove the definition from the collection.",{key:o,personalization:i({},e)}),delete e[o]}else n.debug("Sitecore context reader - Key was included in personalization data but no activity was set. This usually means the component has personalization but none of the personalization rules were activated.",{key:o})}else n.error("Sitecore context reader - Key was included in personalization data but no object was set. Personalization data is corrupt.",{key:o})}))}(m,r,t,n):n.debug("Sitecore context reader - No personalization details were found so no origin-generated personalization activity will be tracked. Note: Personalization details will only be included when origin-based personalization occurs. If no origin-based personalization is used, this message indicates things are working as expected.")}function l(e,t){var r,i,n=null===(i=null===(r=t.data)||void 0===r?void 0:r.profiles)||void 0===i?void 0:i.data;if(n)return n[e]}function f(e,t){var r={},i=l(e,t);return i&&(r.updateCount=i.updateCount,Object.keys(i.keys).forEach((function(e){r[e]=i.keys[e].value}))),r}function p(e,t){var r=l(e,t);return r?r.updateCount:0}function v(e,t,r){Object.keys(e.keys).forEach((function(i){var n=e.keys[i];t.keys||(t.keys={}),t.keys[i]||(t.keys[i]={}),r.name&&(t.name=r.name);var o=void 0;if(r.keys){var s=r.keys[i];s&&(o=s.name)}var a=t.keys[i];o&&(a.name=o),a.value=n}))}function g(e,t,r,i,n){if(e&&t.patterns){var o=e.match(r.keys,t);if(o){var s=t.patterns[o.patternId],a={patternId:o.patternId,distance:o.distance,name:s.name};i[n]=a}else delete i[n]}}function h(e,t,r){var i=[];return Object.keys(t).length>0&&(Object.keys(t).length>0&&i.push({type:"profiles",date:e,data:t}),Object.keys(r).length>0&&i.push({type:"patterns",date:e,data:r})),i}r.CONTEXT_SOURCE_SITECORE="sitecore",r.getSitecoreContextReader=function(e,t){switch(void 0===t&&(t=s.getNullLogger()),e){case"cookie":return function(e){return{type:e,getTrackedActivity:function(e,t){var r=t.visit,i=t.visitor,o=t.logger,a=void 0===o?s.getNullLogger():o,c=new n.TrackedActivityResults(r,i);return"sitecore"!==e||a.error("Sitecore context reader - Context reader not implemented.",{source:e,type:this.type}),c}}}(e);case"js":return{type:"js",getTrackedActivity:function(e,t){var r,i=t.url,o=t.context,a=t.visit,c=t.visitor,u=t.date,l=t.logger,f=void 0===l?s.getNullLogger():l,p=new n.TrackedActivityResults(a,c);if("sitecore"!==e)return p;var v=null!==(r=null==o?void 0:o.tracking)&&void 0!==r?r:{};return f.debug("JS context reader - Reading tracking activity from context.",{tracking:v,context:o}),d({page:{item:v.item,url:i},goals:v.goals,pageEvents:v.events,campaigns:v.campaigns,profiles:v.profiles},u,p,f),p}};case"jss":return{type:"jss",getTrackedActivity:function(e,t){var r,i=t.url,o=t.context,a=t.visit,c=t.visitor,u=t.date,l=t.logger,f=void 0===l?s.getNullLogger():l,p=new n.TrackedActivityResults(a,c);if("sitecore"!==e)return p;var v=null!==(r=function(e,t){var r,i,n=e.context;return(null===(i=null===(r=null==n?void 0:n.sitecore)||void 0===r?void 0:r.context)||void 0===i?void 0:i.tracking)?(t.debug("JSS context reader - Tracking data retrieved from context.sitecore.context.tracking.",n),n.sitecore.context.tracking):(null==n?void 0:n.tracking)?(t.debug("JSS context reader - Tracking data retrieved from context.tracking.",n),n.tracking):void 0}(t,f))&&void 0!==r?r:{};return f.debug("JSS context reader - Reading tracking activity from context.",{tracking:v,context:o}),d({page:{item:v.item,url:i},goals:v.goals,pageEvents:v.events,campaigns:v.campaigns,profiles:v.profiles},u,p,f),p}};case"default":case"uniform":break;default:t.info("Sitecore context reader - The specified Sitecore context reader type is not supported. The default type will be used.",{source:e})}return{type:"uniform",getTrackedActivity:function(e,t){var r=t.url,i=t.context,o=t.visit,a=t.visitor,c=t.date,u=t.logger,l=void 0===u?s.getNullLogger():u,f=new n.TrackedActivityResults(o,a);if("sitecore"!==e)return f;l.debug("Uniform context reader - Reading tracking activity from context.",{context:i});var p=i.tracking;return d({page:{item:null==p?void 0:p.item,url:r},goals:null==p?void 0:p.goals,pageEvents:null==p?void 0:p.events,campaigns:null==p?void 0:p.campaigns,profiles:null==p?void 0:p.profiles},c,f,l),f}}}},{"../../cookies":79,"../../models/trackedActivity":86,"../../trackers":103,"./patternMatchers":74,"./scoring":76,"@uniformdev/common":31}],69:[function(e,t,r){"use strict";r.__esModule=!0,r.getCookieValueFromVisit=r.getCookieValueFromVisitor=void 0;var i=e("./activities");function n(e,t){if(e){var r=[];return Object.keys(e).forEach((function(i){var n=t(e[i]);n&&r.push(i+"="+n)})),r.join(",")}}r.getCookieValueFromVisitor=function(e,t){var r,i;if(null==t?void 0:t.data){if("patterns"==e)return n(null===(r=t.data.patterns)||void 0===r?void 0:r.data,(function(e){return e.patternId}));if("profiles"==e)return n(null===(i=t.data.profiles)||void 0===i?void 0:i.data,(function(e){if(e.keys){var t=[];if(Object.keys(e.keys).forEach((function(r){var i,n,o=null!==(n=null===(i=e.keys[r])||void 0===i?void 0:i.value)&&void 0!==n?n:0;o>0&&t.push(r+"_"+o)})),t.length>0)return t.join("|")}}))}},r.getCookieValueFromVisit=function(e,t){var r,o;if(null==t?void 0:t.data){if("goals"==e)return n(i.getVisitActivities("goal",t),(function(e){return e.map((function(e){return e.getTime()})).join("|")}));if("campaign"==e)return null===(o=null===(r=t.data.campaign)||void 0===r?void 0:r.data)||void 0===o?void 0:o.id}}},{"./activities":67}],70:[function(e,t,r){"use strict";r.__esModule=!0,r.XdbDestination=void 0;var i=function(e){this.type="xdb",Object.assign(this,e)};r.XdbDestination=i},{}],71:[function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r.__esModule=!0,r.XdbDispatcher=void 0;var n=i(e("axios")),o=function(){function e(e){this.requiresBrowser=!0,this.type="xdb",this.httpHeaders=null==e?void 0:e.httpHeaders,this.queryStringParameters=null==e?void 0:e.queryStringParameters}return e.prototype.dispatchActivity=function(e,t){var r=this,i=window.location.href;if(this.queryStringParameters){var o=this.queryStringParameters.startsWith("?")?1:0,s=this.queryStringParameters.substring(o);s.length>0&&(i=0==window.location.search.length?i+"?"+s:i+"&"+s)}n.default.get(i,{method:"GET",headers:this.httpHeaders,withCredentials:!0}).then((function(e){return t.debug("XdbDispatcher - Response received after sending request to Sitecore CD instance.",{response:e,settings:{httpHeaders:r.httpHeaders,queryStringParameters:r.queryStringParameters}})})).catch((function(e){return t.error("XdbDispatcher - Error sending request to Sitecore CD instance.",{url:i,settings:{httpHeaders:r.httpHeaders,queryStringParameters:r.queryStringParameters},err:e})}))},e}();r.XdbDispatcher=o},{axios:109}],72:[function(e,t,r){"use strict";function i(e,t){return{category:e,action:t.data.name,label:void 0,value:t.data.points}}r.__esModule=!0,r.getGaTrackedActivityConverterForSitecore=void 0,r.getGaTrackedActivityConverterForSitecore=function(){return{type:"default",convert:function(e){switch(e.type){case"page view":return function(e,t){return{category:e,action:t.data.item.id,label:t.data.item.name,value:0}}("Sitecore Page View",e);case"page event":return i("Sitecore Event",e);case"goal":return i("Sitecore Goal",e);case"personalization":return function(e,t){var r,i,n,o,s=null===(i=null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.page)||void 0===i?void 0:i.name,a=null===(o=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.component)||void 0===o?void 0:o.name;return{category:e,action:s+"|"+a,label:t.data.rule.name,value:t.data.isIncludedInTest}}("Uniform Personalization",e);default:return}}}}},{}],73:[function(e,t,r){"use strict";function i(e){var t,r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.name;if(r)return{events:r}}r.__esModule=!0,r.getOracleDmpTrackedActivityConverterForSitecore=void 0,r.getOracleDmpTrackedActivityConverterForSitecore=function(){return{type:"default",convert:function(e){switch(e.type){case"page view":return function(e){var t,r,i,n,o=null===(r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.item)||void 0===r?void 0:r.id,s=null===(n=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.item)||void 0===n?void 0:n.name;return{itemId:o,itemName:s}}(e);case"campaign":return function(e){var t,r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.name;if(!r)return;return{campaigns:r}}(e);case"page event":case"goal":return i(e);case"personalization":default:return}}}}},{}],74:[function(e,t,r){"use strict";r.__esModule=!0,r.getPatternMatcher=void 0;var i=e("./scoring");r.getPatternMatcher=function(e){return new n(null!=e?e:o)};var n=function(){function e(e){this.getDistance=e}return e.prototype.match=function(e,t){if(e&&t)return function(e,t,r){var n=null==t?void 0:t.patterns;if(!n)return;if(!e.find((function(e){return e>0})))return;var o,s=void 0,a=0;if(Object.keys(n).forEach((function(c){var u=n[c],d=i.getNormalizedScores(u.keys,t.keys),l=Object.keys(d).map((function(e){return d[e]})),f=r(e,l);(a>f||null==s)&&(a=f,s=c,o=u)})),!s)return;return{name:null==o?void 0:o.name,patternId:s,distance:a}}(Object.keys(e).map((function(t){return e[t]})),t,this.getDistance)},e}();function o(e,t){var r,i=0;for(r=0;r<e.length;r++)i+=Math.pow(e[r]-t[r],2);return Math.sqrt(i)}},{"./scoring":76}],75:[function(e,t,r){"use strict";r.__esModule=!0},{}],76:[function(e,t,r){"use strict";function i(){return function(e,t,r,i){var n=s(e,r.keys),o=!1;return Object.keys(r.keys).forEach((function(e){var t=r.keys[e];0!=t.value&&(o=!0),n[e]+=t.value})),{profileId:t,keys:n,updateCount:i+1,scoresChanged:o}}}function n(){return function(e,t,r,i){var n=s(e,r.keys),o=!1;return Object.keys(r.keys).forEach((function(e){var t=r.keys[e];0!=t.value&&(o=!0),n[e]=(n[e]*i+t.value)/(i+1)})),{profileId:t,keys:n,updateCount:i+1,scoresChanged:o}}}function o(){return function(e,t,r,i){var n=0;Object.keys(r.keys).forEach((function(e){var t=r.keys[e];n+=t.value}));var o=s(e,r.keys),a=n>0?i+1:i,c=!1;return n>0&&Object.keys(r.keys).forEach((function(e){var t=r.keys[e];0!=t.value&&(c=!0),o[e]=(o[e]*i+t.value/n)/a})),{profileId:t,keys:o,updateCount:a,scoresChanged:c}}}function s(e,t){var r={};return Object.keys(t).forEach((function(t){var i,n=null!==(i=e[t])&&void 0!==i?i:0;r[t]=n})),r}r.__esModule=!0,r.getNormalizedScores=r.getScorerPercentage=r.getScorerAverage=r.getScorerSum=r.getScorer=void 0,r.getScorer=function(e){switch(e){case"Average":return n();case"Sum":return i();case"Percentage":return o();default:return}},r.getScorerSum=i,r.getScorerAverage=n,r.getScorerPercentage=o,r.getNormalizedScores=s},{}],77:[function(e,t,r){"use strict";r.__esModule=!0,r.getSitecoreTracker=r.SitecoreCookieNames=void 0;var i=e("@uniformdev/common"),n=e("./contextReaders"),o=e("../../decay"),s=e("../../trackers");function a(e,t){var r,i=n.getSitecoreContextReader(null!==(r=e.type)&&void 0!==r?r:"default",t),o=new Map;return o.set(n.CONTEXT_SOURCE_SITECORE,[i]),o}!function(e){e.Campaign="UNIFORM_TRACKER_SITECORE_campaign",e.Goals="UNIFORM_TRACKER_SITECORE_goals",e.PatternMatches="UNIFORM_TRACKER_SITECORE_pattern_matches",e.ProfileScores="UNIFORM_TRACKER_SITECORE_profile_scores"}(r.SitecoreCookieNames||(r.SitecoreCookieNames={})),r.getSitecoreTracker=function(e,t){if(t||(t=i.getNullLogger()),function(e,t){if(1!=e.doNotIncludeDefaultContextReaders){t.debug("getSitecoreTracker - Adding default context readers.",e);var r=a(e,t);r?e.contextReaders?(Array.from(r.keys()).forEach((function(t){var i,n,o=null!==(i=r.get(t))&&void 0!==i?i:[];if(0!=o.length){var s=null!==(n=e.contextReaders.get(t))&&void 0!==n?n:[];o.forEach((function(e){-1!=(null==s?void 0:s.findIndex((function(t){return t.type==e.type})))&&s.push(e)})),e.contextReaders.set(t,s)}})),e.contextReaders=a(e,t)):e.contextReaders=r:t.debug("getSitecoreTracker - No default default context readers were retrieved.",e)}else t.debug("getSitecoreTracker - Will not add default context readers.",e)}(e,t),e.contextReaders)return t.debug("getSitecoreTracker - Context reader(s) resolved for Sitecore tracker.",e.contextReaders),t.debug("getSitecoreTracker - Using Sitecore profile decay settings.",e.decay),e.extensions={onNewVisitCreated:function(t,r,i,n,s){var a,c,u=null===(a=null===window||void 0===window?void 0:window.document)||void 0===a?void 0:a.referrer;(n.data.referrer=u,s.debug("Sitecore tracker extensions - New visit created, so set referrer.",u),i)&&function(e,t,r,i,n,s){var a,c;if(!i)return;if(!n)return void s.error("Sitecore tracker extensions - Cannot copy profiles to new visit when no new visit is provided.",{oldVisitId:i.id});s.debug("Sitecore tracker extensions - New visit created, so apply profiles from the old visit.",{date:t,visitorId:r.id,oldVisit:i,newVisit:n});var u=null===(c=null===(a=i.data)||void 0===a?void 0:a.profiles)||void 0===c?void 0:c.data;if(!u)return void s.debug("Sitecore tracker extensions - No profile data is set on the old visit, so there are no profiles to copy.",{oldVisitId:i.id,newVisitId:n.id});var d=o.getDifferenceAsTimeIncrements(i.updated,n.updated,e,s);s.debug("Sitecore tracker extensions - Profile decay values were determined.",{unit:e.timeUnit,increments:d});var l=function(e,t,r,i){var n={};return Object.keys(e).forEach((function(s){var a,c=e[s],u={},d=!1;Object.keys(c.keys).forEach((function(e){var n,s=c.keys[e],a=JSON.parse(JSON.stringify(s));a.value=o.doDecay(null!==(n=a.value)&&void 0!==n?n:0,t,r,i),!d&&a.value>0&&(d=!0),u[e]=a}));var l=o.doDecay(null!==(a=c.updateCount)&&void 0!==a?a:0,t,r,i);d&&0==l&&(i.debug("Sitecore tracker extensions - After decay was applied, the update count for the profile was zero. But since the decayed profile still has values, the update count will be set to one.",{profile:s,keys:u}),l=1),n[s]={keys:u,name:c.name,updateCount:o.doDecay(c.updateCount,t,r,i)}})),n}(u,d,e,s);s.debug("Sitecore tracker extensions - Decayed profile was determined.",{withDecay:l,withoutDecay:u}),n.data||(n.data={});n.data.profiles&&s.debug("Sitecore tracker extensions - The current profiles on the new visit will be replaced with decayed profile from the old visit.",{newVisitId:n.id,current:n.data.profiles});s.debug("Sitecore tracker extensions - The decayed profiles from the old visit will be applied to the new visit.",{oldVisitId:i.id,newVisitId:n.id,decay:e,differenceForDecay:d,newProfiles:l});var f={data:l,date:t.toISOString()};if(f.date=t.toISOString(),n.data.profiles=f,!r)return void s.debug("Sitecore tracker extensions - No visitor was specified so the decayed profiles cannot be assigned to the visitor.",{visitorId:i.visitorId,newProfiles:f});r.data||(r.data={});s.debug("Sitecore tracker extensions - The decayed profiles from the old visit will be applied to visitor.",{oldVisitId:i.id,visitorId:r.id,decay:e,differenceForDecay:d,newProfiles:l}),r.data.profiles=JSON.parse(JSON.stringify(f))}(null!==(c=e.decay)&&void 0!==c?c:o.getDefaultDecaySettings(),t,r,i,n,s)}},s.getDefaultTracker(e,{logger:t});t.error("getSitecoreTracker - No context readers were resolved for the Sitecore tracker. Without a context reader, the tracker is unable to read trackable data. The null tracker will be used. This tracker does not track anything; it simply writes to the log.",e)}},{"../../decay":80,"../../trackers":103,"./contextReaders":68,"@uniformdev/common":31}],78:[function(e,t,r){"use strict";r.__esModule=!0},{}],79:[function(e,t,r){"use strict";r.__esModule=!0,r.removeCookie=r.getCookie=r.setCookie=void 0,r.setCookie=function(e,t,r){var i="";if(r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),i="; expires="+n.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"},r.getCookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var n=r[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}},r.removeCookie=function(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{}],80:[function(e,t,r){"use strict";r.__esModule=!0,r.getDifferenceAsTimeIncrements=r.doDecay=r.getDefaultDecaySettings=void 0;function i(e){return"string"==typeof e?new Date(e):e}r.getDefaultDecaySettings=function(){return{rate:3,round:"default",timeUnit:"default",timeIncrement:1,type:"default"}},r.doDecay=function(e,t,r,i){return e<=0||t<=0?0:function(e,t,r){void 0===t&&(t="default");switch(t){case"none":return e;case"down":return Math.floor(e);case"up":return Math.ceil(e);case"closest":case"default":break;default:r.error("The specified rounding option is not supported. Default rounding will be used.",{value:e,rounding:t})}return Math.round(e)}(e*function(e,t,r,i){void 0===t&&(t="default");void 0===r&&(r=3);switch(t){case"compound":return Math.pow(1-r/100,e);case"simple":case"default":return 1-r/100*e;default:i.error("The specified decay type is not supported. No decay will be used.",{type:t})}return 1}(t,r.type,r.rate,i),r.round,i)},r.getDifferenceAsTimeIncrements=function(e,t,r,n){var o,s,a=0;switch(null!==(o=r.timeUnit)&&void 0!==o?o:"default"){case"seconds":a=1e3;break;case"minutes":a=6e4;break;case"hours":a=36e5;break;case"days":case"default":a=864e5;break;default:n.error("The specified decay unit is not supported. No decay will be used.",{settings:r})}if(0==a)return 0;var c=function(e,t){return i(t).getTime()-i(e).getTime()}(e,t),u=Math.abs(c/a),d=null!==(s=r.timeIncrement)&&void 0!==s?s:1;return Math.floor(u/d)}},{}],81:[function(e,t,r){"use strict";r.__esModule=!0},{}],82:[function(e,t,r){"use strict";r.__esModule=!0},{}],83:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};r.__esModule=!0,n(e("./destination"),r),n(e("./dispatcher"),r)},{"./destination":81,"./dispatcher":82}],84:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};r.__esModule=!0,n(e("./contextReader"),r),n(e("./connectors/index"),r);var o=e("./decay");i(r,o,"getDefaultDecaySettings"),n(e("./dispatchers"),r),n(e("./models/index"),r),n(e("./repositories"),r),n(e("./storage"),r),n(e("./trackers"),r),n(e("./cookies"),r)},{"./connectors/index":63,"./contextReader":78,"./cookies":79,"./decay":80,"./dispatchers":83,"./models/index":85,"./repositories":91,"./storage":94,"./trackers":103}],85:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};r.__esModule=!0,n(e("./visit"),r),n(e("./visitor"),r),n(e("./trackedActivity"),r),n(e("./utils"),r)},{"./trackedActivity":86,"./utils":87,"./visit":88,"./visitor":89}],86:[function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});r.__esModule=!0,r.QUEUE_ENTRY_TYPE_TRACKER=r.TrackedActivityResults=r.VisitorUpdate=r.VisitUpdate=r.VisitActivity=r.TrackedActivity=void 0;var o=function(e,t,r){this.type=e,this.date=t,Object.assign(this,r)};r.TrackedActivity=o;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(o);r.VisitActivity=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(o);r.VisitUpdate=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(o);r.VisitorUpdate=c;var u=function(){function e(e,t){this.visitUpdates=[],this.visitUpdateCommands=[],this.visitorUpdates=[],this.visitorUpdateCommands=[],this.visitActivities=[],this.visit=e,this.visitor=t}return e.prototype.append=function(e){var t=this;e&&(e.visitActivities.forEach((function(e){return t.visitActivities.push(e)})),e.visitUpdates.forEach((function(e){return t.visitUpdates.push(e)})),e.visitUpdateCommands.forEach((function(e){return t.visitUpdateCommands.push(e)})),e.visitorUpdates.forEach((function(e){return t.visitorUpdates.push(e)})),e.visitorUpdateCommands.forEach((function(e){return t.visitorUpdateCommands.push(e)})))},e}();r.TrackedActivityResults=u,r.QUEUE_ENTRY_TYPE_TRACKER="tracker"},{}],87:[function(e,t,r){"use strict";r.__esModule=!0,r.getLatestVisit=r.appendTrackedActivityResults=void 0,r.appendTrackedActivityResults=function(e,t){e&&(e.visitActivities.forEach((function(e){return t.visitActivities.push(e)})),e.visitUpdates.forEach((function(e){return t.visitUpdates.push(e)})),e.visitorUpdates.forEach((function(e){return t.visitorUpdates.push(e)})))},r.getLatestVisit=function(e){for(var t=void 0,r=0;r<e.visits.length;r++){var i=e.visits[r];(!t||i.updated>t.updated)&&(t=i)}return t}},{}],88:[function(e,t,r){"use strict";r.__esModule=!0,r.Visit=void 0;var i=new Date(0).toISOString(),n=function(e,t,r,n){this.updated=i,this.id=e,this.visitorId=t,this.start=r,Object.assign(this,n)};r.Visit=n},{}],89:[function(e,t,r){"use strict";r.__esModule=!0,r.getCurrentVisit=r.Visitor=void 0;var i=new Date(0).toISOString(),n=function(e,t){this.updated=i,this.visits=[],this.id=e,Object.assign(this,t)};r.Visitor=n,r.getCurrentVisit=function(e){if(null==e?void 0:e.visits){var t=e.visits.filter((function(e){return!e.end}));return 1==t.length?t[0]:t.reduce((function(e,t){return new Date(e.start)>new Date(t.start)?e:t}))}}},{}],90:[function(e,t,r){"use strict";r.__esModule=!0,r.getTrackingDataRepository=void 0;var i=e("../models/visitor"),n=e("../models/utils"),o=e("@uniformdev/common"),s=e("uuid");r.getTrackingDataRepository=function(e,t){return new a(e,null==t?void 0:t.subscriptions,null==t?void 0:t.logger)};var a=function(){function e(e,t,r){this.type="default",this.logger=null!=r?r:o.getNullLogger(),this.storageProvider=e,this.subscriptions=t}return e.prototype.getNewVisitId=function(){return s.v4()},e.prototype.getNewVisitorId=function(){return s.v4()},e.prototype.getCurrentVisit=function(e,t){var r=new Date,i=n.getLatestVisit(e);if(i){var o=function(e,t){"string"==typeof e&&(e=new Date(e));return new Date(e.getTime()+1e3*t*60)}(i.updated,t);if(r<o){var s=function(e,t){"string"==typeof e&&(e=new Date(e));"string"==typeof t&&(t=new Date(t));var r=e.getTime()-t.getTime(),i=r%1e3,n=Math.floor(r/1e3%60),o=Math.floor(r/1e3/60%60),s=Math.floor(r/1e3/60/60%60),a=Math.floor(r/1e3/60/60/24);return{diff:r,milliseconds:i,seconds:n,minutes:o,hours:s,days:a}}(o,r);return this.logger.debug("Default tracking data repository - Most recent visit is still active.",{ttl:s,visit:i,now:r,end:o}),{current:i,previous:void 0,isNewVisit:!1}}i.end=o.toISOString(),this.saveVisitorNoUpdate(e),this.logger.debug("Default tracking data repository - Most recent visit is no longer active.",i),this.subscriptions&&this.subscriptions.publish({type:"visit-timeout",when:r,visit:i,visitor:e})}var a=this.addVisit(e,r);return this.subscriptions&&this.subscriptions.publish({type:"visit-created",when:new Date,visit:a,visitor:e}),{current:a,previous:i,isNewVisit:!0}},e.prototype.getVisitor=function(e){if(this.storageProvider){if(null!=e&&""!=e){var t=this.storageProvider.read(e,this.logger);if(t)return t}}else this.logger.error("Default tracking data repository - No storage provider is available, so unable to get data for visitor "+e)},e.prototype.createVisitor=function(){return this.doCreateVisitor(this.getNewVisitorId())},e.prototype.doCreateVisitor=function(e){var t=new Date,r=new i.Visitor(e,{updated:t.toISOString()});return this.storageProvider.write(r,this.logger),this.logger.debug("Default tracking data repository - New visitor created.",r),this.subscriptions&&this.subscriptions.publish({type:"visitor-created",when:new Date,visitor:r}),r},e.prototype.saveVisitorNoUpdate=function(e){this.storageProvider.write(e),this.logger.debug("Default tracking data repository - Visitor saved to the repository but update events were fired.",e)},e.prototype.saveVisitor=function(e,t,r,i){if(t.updated=e.toISOString(),this.storageProvider.write(t),this.logger.debug("Default tracking data repository - Visitor saved to the repository.",t),this.subscriptions){var n=new Date;r.size>0&&this.subscriptions.publish({type:"visit-updated",when:n,changes:r,visitor:t}),i.length>0&&this.subscriptions.publish({type:"visitor-updated",when:n,changes:i,visitor:t})}},e.prototype.addVisit=function(e,t){var r=t.toISOString();e.updated=r;var i={id:this.getNewVisitId(),visitorId:e.id,start:r,updated:r,data:{}};return this.logger.debug("Default tracking data repository - New visit created.",i),e.visits||(e.visits=[]),e.visits.push(i),this.storageProvider.write(e),i},e}()},{"../models/utils":87,"../models/visitor":89,"@uniformdev/common":31,uuid:135}],91:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};r.__esModule=!0,n(e("./defaultRepository"),r),n(e("./repository"),r)},{"./defaultRepository":90,"./repository":92}],92:[function(e,t,r){"use strict";r.__esModule=!0},{}],93:[function(e,t,r){"use strict";r.__esModule=!0;var i=e("./localStorage");r.default=function(e,t,r){switch(e){case"custom":var n=t?t():void 0;return n||r.error("When the custom storage provider type is specified, getCustomProvider must return a provider.",{storage:e}),n;case"default":case"local":break;default:r.error("The storage option specified for the tracker is not supported. Default storage provider will be used.",{storage:e})}return new i.LocalStorageProvider}},{"./localStorage":95}],94:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};r.__esModule=!0,n(e("./provider"),r),n(e("./getStorageProvider"),r)},{"./getStorageProvider":93,"./provider":96}],95:[function(e,t,r){"use strict";r.__esModule=!0,r.LocalStorageProvider=void 0;var i=function(){function e(){}return e.prototype.read=function(e,t){if(e){var r=localStorage.getItem(e);if(r)return JSON.parse(r)}},e.prototype.write=function(e,t){e&&e.id&&localStorage.setItem(e.id,JSON.stringify(e))},e}();r.LocalStorageProvider=i},{}],96:[function(e,t,r){"use strict";r.__esModule=!0,r.getStorageProvider=void 0;var i=e("./localStorage");r.getStorageProvider=function(e,t,r){switch(e){case"custom":var n=t?t():void 0;return n||r.error("When the custom storage provider type is specified, getCustomProvider must return a provider.",{storage:e}),n;case"default":case"local":break;default:r.error("The storage option specified for the tracker is not supported. Default storage provider will be used.",{storage:e})}return new i.LocalStorageProvider}},{"./localStorage":95}],97:[function(e,t,r){"use strict";r.__esModule=!0,r.DefaultTracker=void 0;var i=e("./utils"),n=e("../models/trackedActivity"),o=e("@uniformdev/common"),s=function(){function e(e){var t,r,i,n,s;this.contextReaders=new Map,this.state="unknown",this.contextReaders=null!==(t=e.contextReaders)&&void 0!==t?t:new Map,this.dispatchers=null!==(r=e.dispatchers)&&void 0!==r?r:[],this.logger=null!==(i=e.logger)&&void 0!==i?i:o.getNullLogger(),this.extensions=e.extensions,this.repository=e.repository,this.sessionTimeout=null!==(n=e.sessionTimeout)&&void 0!==n?n:20,this.subscriptions=null!==(s=e.subscriptions)&&void 0!==s?s:o.getSubscriptionManager()}return e.prototype.event=function(e,t,r){var i=this;this.logger.debug("Default tracker - Start event() handling.",{event:t,settings:r});var n=this.doTracking(r,(function(r,n){switch(e){case"visit-activity":n.visitActivities.push(t);break;case"visit-update":n.visitUpdates.push(t);break;case"visitor-update":n.visitorUpdates.push(t);break;default:i.logger.error("Default tracker - Specified event type is not supported. Event will not be captured.",{type:e,event:t})}}));return this.logger.debug("Default tracker - Finished event() handling.",{results:n}),n},e.prototype.initialize=function(e){this.logger.debug("Default tracker - Start initialize() handling.",{settings:e});var t=this.doTracking(e,(function(e,t){}));return this.logger.debug("Default tracker - Finished initialize() handling.",{results:t}),t},e.prototype.subscribe=function(e,t){return this.subscriptions.subscribe(e,t)},e.prototype.track=function(e,t,r){var i=this;this.logger.debug("Default tracker - Start track() handling.",{source:e,context:t,settings:r});var n=this.doTracking(r,(function(r,n){var o=n.visit,s=n.visitor,a=new URL(null===window||void 0===window?void 0:window.location.href);if(e?i.contextReaders.get(e):void 0){var c={date:r,context:t,visit:o,visitor:s,url:a,logger:i.logger};i.contextReaders.forEach((function(t,r){i.logger.debug("Default tracker - Reading activity from context using context readers.",{id:r,readers:t}),t.forEach((function(t){var r=t.getTrackedActivity(e,c);i.logger.debug("Default tracker - Activity read from reader.",{type:t.type,activity:r}),n.append(r)}))}))}else i.logger.warn("Default tracker - No context readers are registered for the source. No tracking data will be created.",{source:e})}));return this.logger.debug("Default tracker - Finished track() handling.",{results:n}),n},e.prototype.doTracking=function(e,t){var r,o=this;this.logger.debug("Default tracker - Start doTracking().");var s=e.visitorId,a=e.createVisitor,c=void 0!==a&&a,u=void 0,d=void 0,l=new n.TrackedActivityResults,f=(new Date).toISOString();try{if(s&&(u=this.repository.getVisitor(s)),!u){if(!c)return this.logger.error("Default tracker - No visitor was returned from the repository. Tracking will abort."),l;if(!(u=this.repository.createVisitor()))return this.logger.error("Default tracker - Unable to create new visitor. Tracking will abort."),l}var p=this.repository.getCurrentVisit(u,this.sessionTimeout);if(!(d=p.current))return this.logger.error("Default tracker - No visit was returned from the repository. Tracking will abort."),l;if(p.isNewVisit&&(null===(r=this.extensions)||void 0===r?void 0:r.onNewVisitCreated)){var v=new Date;this.extensions.onNewVisitCreated(v,u,p.previous,d,this.logger)}l.visit=d,l.visitor=u,t(f,l);var g=i.getVisitChanges(l,d,u),h=i.getVisitorChanges(l,d,u);0==g.size&&0==h.length&&this.logger.debug("Default tracker - No changes were made to the visit or the visitor, so there is nothing to track."),(l.visitActivities.length>0||l.visitUpdates.length>0)&&(d.updated=f),d.data||(d.data={}),d.data.activities||(d.data.activities=[]),l.visitActivities.forEach((function(e){d.data.activities.push(e)})),l.visitUpdates.forEach((function(e){d.data[e.type]={date:f,data:e.data}})),l.visitUpdateCommands.forEach((function(e){e(d)})),u.data||(u.data={}),l.visitorUpdates.forEach((function(e){u.data[e.type]={date:f,data:e.data}})),l.visitorUpdateCommands.forEach((function(e){e(u)}));var m=new Date;if(this.extensions&&this.extensions.onBeforeVisitorSaved&&this.extensions.onBeforeVisitorSaved(m,u,g,h,this.logger),this.repository.saveVisitor(m,u,g,h),this.dispatchers){var y="undefined"!=typeof window&&null!=window.document;this.dispatchers.forEach((function(e){e.requiresBrowser&&!y||(o.logger.debug("Default tracker - Dispatching activity.",{type:e.type,activity:l}),e.dispatchActivity(l,o.logger))}))}this.logger.debug("Default tracker - Updating global object.",{visit:d,visitor:u}),window.uniform||(window.uniform={}),window.uniform.tracker=this,window.uniform.visit=d,window.uniform.visitor=u;var b={type:"tracking-finished",when:new Date,visit:l.visit,visitor:l.visitor};!0!==e.silent?(this.logger.debug("Default tracker - Notify subscribers that tracking is finished.",{subscriptions:this.subscriptions}),this.subscriptions.publish(b)):this.logger.debug("Default tracker - Tracking settings indicate silent mode. Tracking is finished but subscribers will not be notified.",{subscriptions:this.subscriptions})}catch(e){this.logger.error("Default tracker - Error thrown during doTracking().",e)}finally{this.state="ready",this.logger.debug("Default tracker - Finished doTracking().")}return l},e}();r.DefaultTracker=s},{"../models/trackedActivity":86,"./utils":107,"@uniformdev/common":31}],98:[function(e,t,r){"use strict";r.__esModule=!0,r.getDispatchersForGaDestinations=void 0;var i=e("../connectors/ga/dispatcher"),n=e("../connectors/sitecore/gaEventConverter");r.getDispatchersForGaDestinations=function(e,t){var r=t.logger,o=t.loggerPrefix,s=[];return e.forEach((function(e){var a=function(e,t){if(!e)return;var r=t.ga,o=t.logger,s=t.loggerPrefix;if(!r)return void o.debug(s+" - No GA settings were specified on args so no GA dispatch will be performed.",t);var a=r.initializeGa;if(!a)return void o.debug(s+" - No function to initialize GA was specified on args so no GA dispatch will be performed.",t);if(!a(e,o))return void o.debug(s+" - Unable to initialize GA so no GA dispatch will be performed.",e);var c=function(e,t){var r,i=t.logger,o=t.loggerPrefix,s=null!==(r=e.activityConverters)&&void 0!==r?r:[];if(1!=e.doNotUseDefaultActivityConverter){var a=n.getGaTrackedActivityConverterForSitecore();a&&s.every((function(e){return e.type!=a.type}))&&(s.push(a),i.debug(o+" - Added default GA tracked activity converter for Sitecore.",{converters:s}))}return s}(e,t),u=new i.GaDispatcher(c,e);if(e.mappings){var d=e.mappings,l=function(e,t){d.forEach((function(e){if(e.action){var r=new Function(e.action)();r&&t.set(e.index,r)}}))};u.setCustomDimensionValues=l}return u}(e,t);a?s.push(a):r.error(o+" - Unable to get dispatcher for GA destination.",e)})),s}},{"../connectors/ga/dispatcher":62,"../connectors/sitecore/gaEventConverter":72}],99:[function(e,t,r){"use strict";r.__esModule=!0,r.getDefaultTracker=void 0;var i=e("../repositories"),n=e("../storage"),o=e("@uniformdev/common"),s=e("./defaultTracker");r.getDefaultTracker=function(e,t){var r,a=null!==(r=null==t?void 0:t.logger)&&void 0!==r?r:o.getNullLogger(),c=n.getStorageProvider(e.storage,e.getCustomStorageProvider,a);if(c){var u=i.getTrackingDataRepository(c,{logger:a,subscriptions:e.subscriptions});if(u){a.debug("Tracker - Using repository type "+u.type,u),!e.sessionTimeout||e.sessionTimeout<0?a.debug("Tracker - Session timeout will be determined by the tracker."):a.debug("Tracker - Session timeout "+e.sessionTimeout+" minute(s).");var d={contextReaders:e.contextReaders,dispatchers:e.dispatchers,extensions:e.extensions,logger:a,repository:u,sessionTimeout:e.sessionTimeout,subscriptions:e.subscriptions};return new s.DefaultTracker(d)}a.error("Tracker - No tracking data repository was resolved. This is required in order to create a tracker.",{settings:e})}else a.error("Tracker - No storage provider was resolved. This is required in order to create a tracker.",{settings:e})}},{"../repositories":91,"../storage":94,"./defaultTracker":97,"@uniformdev/common":31}],100:[function(e,t,r){"use strict";r.__esModule=!0},{}],101:[function(e,t,r){"use strict";r.__esModule=!0,r.getDispatchersFromTrackingConfig=void 0;var i=e("@uniformdev/common"),n=e("./ga"),o=e("./oracleDmp"),s=e("./xdb");r.getDispatchersFromTrackingConfig=function(e,t){var r=t.logger,a=t.loggerPrefix,c=[],u=function(e,t){var r,i=t.logger,n=t.loggerPrefix,o=new Map;e||i.warn(n+" - No tracking config was specified.",{args:t});var s=e.destinations;return null!==(r=null==s?void 0:s.length)&&void 0!==r&&r&&s.forEach((function(e){var t,r=e.type,s=null!==(t=o.get(r))&&void 0!==t?t:[];e.configId&&s.some((function(t){return t.configId==e.configId}))?i.debug(n+" - Destination is included in the tracking data multiple times. It will not be added to the destination map more than once.",e):(s.push(e),o.set(r,s))})),o}(e,{logger:r,loggerPrefix:a});return Array.from(u.keys()).forEach((function(e){var d,l,f,p,v=null!==(d=u.get(e))&&void 0!==d?d:[];if(0!=v.length)switch(e){case"ga":if(!t.ga)return void r.error(a+" - GA settings are missing from args so unable to configure GA dispatchers.",t);var g=null!==(l=n.getDispatchersForGaDestinations(v,t))&&void 0!==l?l:[];return void(g.length>0&&(r.debug(a+" - GA dispatchers were registered.",g),i.appendArray(g,c)));case"oracleDmp":var h=null!==(f=o.getDispatchersForOracleDmpDestinations(v,t))&&void 0!==f?f:[];return void(h.length>0&&(r.debug(a+" - Oracle DMP dispatchers were registered.",h),i.appendArray(h,c)));case"xdb":var m=null!==(p=s.getDispatchersForXdbDestinations(v,t))&&void 0!==p?p:[];return void(m.length>0&&(r.debug(a+" - xDB dispatchers were registered.",m),i.appendArray(m,c)));default:return void r.error(a+" - The specified destination type is not supported.",{type:e,destinations:v.length})}})),c}},{"./ga":98,"./oracleDmp":105,"./xdb":108,"@uniformdev/common":31}],102:[function(e,t,r){"use strict";r.__esModule=!0,r.setCookiesForSitecoreVisitorUpdated=r.setCookiesForSitecoreVisitUpdated=r.setCookiesForSitecoreVisitCreated=r.getTrackerCookieTypes=r.addSubscriptionsForTrackerCookies=void 0;var i=e("./tracker"),n=e("../connectors/sitecore/cookies"),o=e("../connectors/sitecore/tracker"),s=e("../models"),a=e("@uniformdev/common");function c(e,t){var r,n,s,a,c=t.cookieTypes,u=t.logger,d=t.loggerPrefix,l=t.removeCookie,f=t.setCookie;c.indexOf("visitCount")>-1&&(0==(null!==(n=null===(r=e.visitor)||void 0===r?void 0:r.visits.length)&&void 0!==n?n:0)?(u.debug(d+" - Visit created event was triggered. No visits are assigned to the visitor, so removing the cookie for visit count.",{cookie:i.UniformCookieNames.VisitCount,event:e}),l(i.UniformCookieNames.VisitCount)):(u.debug(d+" - Visit created event was triggered. Updating the cookie for visit count.",{cookie:i.UniformCookieNames.VisitCount,count:null===(s=e.visitor)||void 0===s?void 0:s.visits.length}),f(i.UniformCookieNames.VisitCount,null===(a=e.visitor)||void 0===a?void 0:a.visits.length)));c.indexOf("goals")>-1&&(u.debug(d+" - Visit created event was triggered. Resetting the cookie for goal tracking.",{cookie:o.SitecoreCookieNames.Goals}),l(o.SitecoreCookieNames.Goals))}function u(e,t){var r=t.cookieTypes,i=t.logger,a=t.loggerPrefix,c=t.removeCookie,u=t.setCookie;if(e.visitor){var d=s.getCurrentVisit(e.visitor);if(d&&e.changes.get(d.id)){if(r.indexOf("goals")>-1){var l=n.getCookieValueFromVisit("goals",d);i.debug(a+" - Visit updated event was triggered. Updating the cookie for goal tracking.",{cookie:o.SitecoreCookieNames.Goals,visit:d}),l?u(o.SitecoreCookieNames.Goals,l):c(o.SitecoreCookieNames.Goals)}if(r.indexOf("campaign")>-1){var f=n.getCookieValueFromVisit("campaign",d);i.debug(a+" - Visit updated event was triggered. Updating the cookie for campaign tracking.",{cookie:o.SitecoreCookieNames.Campaign,visit:d}),f?u(o.SitecoreCookieNames.Campaign,f):c(o.SitecoreCookieNames.Campaign)}}}}function d(e,t){var r=t.cookieTypes,i=t.logger,s=t.loggerPrefix,a=t.removeCookie,c=t.setCookie;if(e.visitor){if(r.indexOf("patterns")>-1){var u=n.getCookieValueFromVisitor("patterns",e.visitor);i.debug(s+" - Visitor updated event was triggered. Updating the cookie for pattern match tracking.",{cookie:o.SitecoreCookieNames.PatternMatches,visitor:e.visitor}),u?c(o.SitecoreCookieNames.PatternMatches,u):a(o.SitecoreCookieNames.PatternMatches)}if(r.indexOf("profiles")>-1){var d=n.getCookieValueFromVisitor("profiles",e.visitor);i.debug(s+" - Visitor updated event was triggered. Updating the cookie for profile score tracking.",{cookie:o.SitecoreCookieNames.ProfileScores,visitor:e.visitor}),d?c(o.SitecoreCookieNames.ProfileScores,d):a(o.SitecoreCookieNames.ProfileScores)}}}r.addSubscriptionsForTrackerCookies=function(e,t){var r=t.cookieTypes;r&&0!=r.length&&(e.subscribe("visit-created",(function(e){c(e,t)})),e.subscribe("visit-updated",(function(e){u(e,t)})),e.subscribe("visitor-updated",(function(e){d(e,t)})))},r.getTrackerCookieTypes=function(e){var t,r=[];return a.appendArray(null===(t=null==e?void 0:e.settings)||void 0===t?void 0:t.cookies,r),r},r.setCookiesForSitecoreVisitCreated=c,r.setCookiesForSitecoreVisitUpdated=u,r.setCookiesForSitecoreVisitorUpdated=d},{"../connectors/sitecore/cookies":69,"../connectors/sitecore/tracker":77,"../models":85,"./tracker":106,"@uniformdev/common":31}],103:[function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||i(t,e,r)};r.__esModule=!0;var o=e("./tracker");i(r,o,"UniformCookieNames");var s=e("./getTracker");i(r,s,"getDefaultTracker");var a=e("./nullTracker");i(r,a,"getNullTracker"),n(e("./handleDestinations"),r),n(e("./handleTrackerEvents"),r),n(e("./global"),r),n(e("./ga"),r),n(e("./oracleDmp"),r),n(e("./xdb"),r)},{"./ga":98,"./getTracker":99,"./global":100,"./handleDestinations":101,"./handleTrackerEvents":102,"./nullTracker":104,"./oracleDmp":105,"./tracker":106,"./xdb":108}],104:[function(e,t,r){"use strict";r.__esModule=!0,r.getNullTracker=void 0;var i=e("../models/trackedActivity");r.getNullTracker=function(){return new n};var n=function(){function e(){this.contextReaders=new Map,this.state="ready"}return e.prototype.event=function(e,t,r){return new i.TrackedActivityResults},e.prototype.initialize=function(e){return new i.TrackedActivityResults},e.prototype.track=function(e,t,r){return new i.TrackedActivityResults},e.prototype.subscribe=function(e,t){return function(){return!1}},e}()},{"../models/trackedActivity":86}],105:[function(e,t,r){"use strict";r.__esModule=!0,r.getDispatchersForOracleDmpDestinations=void 0;var i=e("../connectors/oracleDmp/dispatcher"),n=e("../connectors/sitecore/oracleDmpEventConverter");r.getDispatchersForOracleDmpDestinations=function(e,t){var r=t.logger,o=t.loggerPrefix,s=[];return e.forEach((function(e){var a=function(e,t){if(!e)return;var r=t.oracleDmp,o=t.logger,s=t.loggerPrefix,a=null==r?void 0:r.initializeOracleDmp;if(!(a?a(e,o):function(e,t){var r=t.logger,n=t.loggerPrefix;if(!window)return r.error(n+" - Cannot initialize Oracle DMP dispatcher when window is undefined.",e),!1;return e.containerIds.forEach((function(o){var s=i.getOracleDmpCallbackName(o);if(s){var a=function(i){var o,s;if(e.dataHandling){var a=!1;if((null==i?void 0:i.campaigns)&&function(e,t,r){var i=t.dataHandling;if(!i)return!1;var n=!1;return["campaigns","audiences"].forEach((function(o){var s=i[o];s&&function(e,t,r,i,n){var o=n.logger,s=n.loggerPrefix;if(!(null==i?void 0:i.dataHandling))return!1;if(!Array.isArray(t))return o.debug(s+" - Oracle DMP "+e+" are expected to be an array.",t),!1;var a=null==i?void 0:i.dataHandling[e];if(!a)return o.debug(s+" - Oracle DMP destination is not configured to handle "+e+" data.",{destination:i,data:t}),!1;switch(a.type){case"cookie":return function(e,t,r,i,n,o){var s=o.logger,a=o.loggerPrefix,c=o.getCookie,u=o.removeCookie,d=o.setCookie;if(!e)return s.debug(a+" - Oracle DMP destination is configured to save "+t+" to a cookie, but the cookie name is not specified. Data will not be saved.",{destination:n,data:r}),!1;var l=[];r.forEach((function(e){var t=i(e);t&&-1==l.indexOf(t)&&l.push(t)}));var f=c(e);if(!f&&0==l.length)return s.debug(a+" - No "+t+" were returned from Oracle DMP and no values are currently set in the cookie, so data handling is complete.",{cookie:e,data:r}),!1;if(0==l.length)return s.debug(a+" - No "+t+" were returned from Oracle DMP so the cookie will be deleted.",{cookie:e,data:r}),u(e),!0;var p=l.sort().join(",");if(p==f)return!1;return s.debug(a+" - Data for "+t+" from Oracle DMP will be set on the cookie.",{cookie:e,values:l}),d(e,p),!0}(a.data,e,t,r,i,n);default:return o.debug(s+" - Unsupported type specified for handling "+e+" data from Oracle DMP.",{type:a.type,data:t}),!1}}(o,e,(function(e){return e[s.property]}),t,r)&&(n=!0)})),n}(i.campaigns,e,t)&&(a=!0),a){if(!(null===(o=null===window||void 0===window?void 0:window.uniform)||void 0===o?void 0:o.subscriptions))return void r.info(n+" - Unable to get a reference to the Uniform global subscription manager from the window, so unable to publish event to notify subscribers that Oracle DMP data was handled.",{data:i,destination:e});if(!e.triggerName)return void r.info(n+" - No trigger name is specified on the Oracle DMP destination, so unable to publish event to notify subscribers that Oracle DMP data was handled.",{data:i,destination:e});r.info(n+" - Publishing event to notify subscribers that Oracle DMP data was handled.",{data:i,destination:e}),null===(s=window.uniform.subscriptions)||void 0===s||s.publish({type:e.triggerName,when:new Date})}}else r.info(n+" - No data handling settings were specified on the Oracle DMP destination, so the callback data will not be handled.",{data:i,destination:e})};Object.defineProperty(window,s,{get:function(){return a}})}else r.error(n+" - Cannot initialize Oracle DMP dispatcher for container because callback name could not be determined.",{containerId:o})})),!0}(e,t)))return void o.debug(s+" - Unable to initialize Oracle DMP so no Oracle DMP dispatch will be performed.",e);var c=function(e,t){var r,i=t.logger,o=t.loggerPrefix,s=null!==(r=e.activityConverters)&&void 0!==r?r:[];if(1!=e.doNotUseDefaultActivityConverter){var a=n.getOracleDmpTrackedActivityConverterForSitecore();a&&s.every((function(e){return e.type!=a.type}))&&(s.push(a),i.debug(o+" - Added default GA tracked activity converter for Sitecore.",{converters:s}))}return s}(e,t);return new i.OracleDmpDispatcher(c,e)}(e,t);a?s.push(a):r.error(o+" - Unable to get dispatcher for Oracle DMP destination.",e)})),s}},{"../connectors/oracleDmp/dispatcher":66,"../connectors/sitecore/oracleDmpEventConverter":73}],106:[function(e,t,r){"use strict";r.__esModule=!0,r.UniformCookieNames=void 0,function(e){e.Testing="UNIFORM_TRACKER_testing",e.VisitorId="UNIFORM_TRACKER_visitor_id",e.VisitCount="UNIFORM_TRACKER_visit_count"}(r.UniformCookieNames||(r.UniformCookieNames={}))},{}],107:[function(e,t,r){"use strict";r.__esModule=!0,r.getVisitorChanges=r.getVisitChanges=void 0,r.getVisitChanges=function(e,t,r){var i,n,o,s=[];((null===(i=null==e?void 0:e.visitActivities)||void 0===i?void 0:i.length)>0||(null===(n=null==e?void 0:e.visitUpdates)||void 0===n?void 0:n.length)>0)&&s.push("activities"),(null===(o=null==e?void 0:e.visitUpdates)||void 0===o?void 0:o.length)>0&&e.visitUpdates.forEach((function(e){s.includes(e.type)||s.push(e.type)}));var a=new Map;return a.set(t.id,s),a},r.getVisitorChanges=function(e,t,r){var i,n=[];return(null===(i=null==e?void 0:e.visitorUpdates)||void 0===i?void 0:i.length)>0&&e.visitorUpdates.forEach((function(e){n.includes(e.type)||n.push(e.type)})),n}},{}],108:[function(e,t,r){"use strict";r.__esModule=!0,r.getDispatchersForXdbDestinations=void 0;var i=e("../connectors/sitecore/dispatcher");r.getDispatchersForXdbDestinations=function(e,t){var r=t.logger,n=t.loggerPrefix,o=[];return e.forEach((function(e){var t=function(e,t){if(!e)return;return new i.XdbDispatcher(e)}(e);t?o.push(t):r.error(n+" - Unable to get dispatcher for xDB destination.",e)})),o}},{"../connectors/sitecore/dispatcher":71}],109:[function(e,t,r){t.exports=e("./lib/axios")},{"./lib/axios":111}],110:[function(e,t,r){"use strict";var i=e("./../utils"),n=e("./../core/settle"),o=e("./../helpers/cookies"),s=e("./../helpers/buildURL"),a=e("../core/buildFullPath"),c=e("./../helpers/parseHeaders"),u=e("./../helpers/isURLSameOrigin"),d=e("../core/createError");t.exports=function(e){return new Promise((function(t,r){var l=e.data,f=e.headers;i.isFormData(l)&&delete f["Content-Type"],(i.isBlob(l)||i.isFile(l))&&l.type&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=unescape(encodeURIComponent(e.auth.password))||"";f.Authorization="Basic "+btoa(v+":"+g)}var h=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),s(h,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};n(t,r,o),p=null}},p.onabort=function(){p&&(r(d("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(d("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(d(t,e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var m=(e.withCredentials||u(h))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;m&&(f[e.xsrfHeaderName]=m)}if("setRequestHeader"in p&&i.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),l||(l=null),p.send(l)}))}},{"../core/buildFullPath":117,"../core/createError":118,"./../core/settle":122,"./../helpers/buildURL":126,"./../helpers/cookies":128,"./../helpers/isURLSameOrigin":130,"./../helpers/parseHeaders":132,"./../utils":134}],111:[function(e,t,r){"use strict";var i=e("./utils"),n=e("./helpers/bind"),o=e("./core/Axios"),s=e("./core/mergeConfig");function a(e){var t=new o(e),r=n(o.prototype.request,t);return i.extend(r,o.prototype,t),i.extend(r,t),r}var c=a(e("./defaults"));c.Axios=o,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=e("./cancel/Cancel"),c.CancelToken=e("./cancel/CancelToken"),c.isCancel=e("./cancel/isCancel"),c.all=function(e){return Promise.all(e)},c.spread=e("./helpers/spread"),t.exports=c,t.exports.default=c},{"./cancel/Cancel":112,"./cancel/CancelToken":113,"./cancel/isCancel":114,"./core/Axios":115,"./core/mergeConfig":121,"./defaults":124,"./helpers/bind":125,"./helpers/spread":133,"./utils":134}],112:[function(e,t,r){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},{}],113:[function(e,t,r){"use strict";var i=e("./Cancel");function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new i(e),t(r.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},t.exports=n},{"./Cancel":112}],114:[function(e,t,r){"use strict";t.exports=function(e){return!(!e||!e.__CANCEL__)}},{}],115:[function(e,t,r){"use strict";var i=e("./../utils"),n=e("../helpers/buildURL"),o=e("./InterceptorManager"),s=e("./dispatchRequest"),a=e("./mergeConfig");function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=a(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,i){return this.request(a(i||{},{method:e,url:t,data:r}))}})),t.exports=c},{"../helpers/buildURL":126,"./../utils":134,"./InterceptorManager":116,"./dispatchRequest":119,"./mergeConfig":121}],116:[function(e,t,r){"use strict";var i=e("./../utils");function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},t.exports=n},{"./../utils":134}],117:[function(e,t,r){"use strict";var i=e("../helpers/isAbsoluteURL"),n=e("../helpers/combineURLs");t.exports=function(e,t){return e&&!i(t)?n(e,t):t}},{"../helpers/combineURLs":127,"../helpers/isAbsoluteURL":129}],118:[function(e,t,r){"use strict";var i=e("./enhanceError");t.exports=function(e,t,r,n,o){var s=new Error(e);return i(s,t,r,n,o)}},{"./enhanceError":120}],119:[function(e,t,r){"use strict";var i=e("./../utils"),n=e("./transformData"),o=e("../cancel/isCancel"),s=e("../defaults");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(e){return a(e),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=n(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},{"../cancel/isCancel":114,"../defaults":124,"./../utils":134,"./transformData":123}],120:[function(e,t,r){"use strict";t.exports=function(e,t,r,i,n){return e.config=t,r&&(e.code=r),e.request=i,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},{}],121:[function(e,t,r){"use strict";var i=e("../utils");t.exports=function(e,t){t=t||{};var r={},n=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function u(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(r[n]=c(void 0,e[n])):r[n]=c(e[n],t[n])}i.forEach(n,(function(e){i.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),i.forEach(o,u),i.forEach(s,(function(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(r[n]=c(void 0,e[n])):r[n]=c(void 0,t[n])})),i.forEach(a,(function(i){i in t?r[i]=c(e[i],t[i]):i in e&&(r[i]=c(void 0,e[i]))}));var d=n.concat(o).concat(s).concat(a),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===d.indexOf(e)}));return i.forEach(l,u),r}},{"../utils":134}],122:[function(e,t,r){"use strict";var i=e("./createError");t.exports=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(i("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},{"./createError":118}],123:[function(e,t,r){"use strict";var i=e("./../utils");t.exports=function(e,t,r){return i.forEach(r,(function(r){e=r(e,t)})),e}},{"./../utils":134}],124:[function(e,t,r){(function(r){"use strict";var i=e("./utils"),n=e("./helpers/normalizeHeaderName"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=e("./adapters/xhr"):void 0!==r&&"[object process]"===Object.prototype.toString.call(r)&&(a=e("./adapters/http")),a),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(o)})),t.exports=c}).call(this,e("_process"))},{"./adapters/http":110,"./adapters/xhr":110,"./helpers/normalizeHeaderName":131,"./utils":134,_process:5}],125:[function(e,t,r){"use strict";t.exports=function(e,t){return function(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(t,r)}}},{}],126:[function(e,t,r){"use strict";var i=e("./../utils");function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(n(t)+"="+n(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},{"./../utils":134}],127:[function(e,t,r){"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],128:[function(e,t,r){"use strict";var i=e("./../utils");t.exports=i.isStandardBrowserEnv()?{write:function(e,t,r,n,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),i.isString(n)&&a.push("path="+n),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":134}],129:[function(e,t,r){"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},{}],130:[function(e,t,r){"use strict";var i=e("./../utils");t.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var i=e;return t&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=i.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},{"./../utils":134}],131:[function(e,t,r){"use strict";var i=e("../utils");t.exports=function(e,t){i.forEach(e,(function(r,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[i])}))}},{"../utils":134}],132:[function(e,t,r){"use strict";var i=e("./../utils"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,r,o,s={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),r=i.trim(e.substr(o+1)),t){if(s[t]&&n.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},{"./../utils":134}],133:[function(e,t,r){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},{}],134:[function(e,t,r){"use strict";var i=e("./helpers/bind"),n=Object.prototype.toString;function o(e){return"[object Array]"===n.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===n.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}t.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function r(r,i){c(t[i])&&c(r)?t[i]=e(t[i],r):c(r)?t[i]=e({},r):o(r)?t[i]=r.slice():t[i]=r}for(var i=0,n=arguments.length;i<n;i++)d(arguments[i],r);return t},extend:function(e,t,r){return d(t,(function(t,n){e[n]=r&&"function"==typeof t?i(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},{"./helpers/bind":125}],135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return l.default}});var i=f(e("./v1.js")),n=f(e("./v3.js")),o=f(e("./v4.js")),s=f(e("./v5.js")),a=f(e("./nil.js")),c=f(e("./version.js")),u=f(e("./validate.js")),d=f(e("./stringify.js")),l=f(e("./parse.js"));function f(e){return e&&e.__esModule?e:{default:e}}},{"./nil.js":137,"./parse.js":138,"./stringify.js":142,"./v1.js":143,"./v3.js":144,"./v4.js":146,"./v5.js":147,"./validate.js":148,"./version.js":149}],136:[function(e,t,r){"use strict";function i(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e,t,r,i,o,s){return n((a=n(n(t,e),n(i,s)))<<(c=o)|a>>>32-c,r);var a,c}function s(e,t,r,i,n,s,a){return o(t&r|~t&i,e,t,n,s,a)}function a(e,t,r,i,n,s,a){return o(t&i|r&~i,e,t,n,s,a)}function c(e,t,r,i,n,s,a){return o(t^r^i,e,t,n,s,a)}function u(e,t,r,i,n,s,a){return o(r^(t|~i),e,t,n,s,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var d=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,i="0123456789abcdef";for(let n=0;n<r;n+=8){const r=e[n>>5]>>>n%32&255,o=parseInt(i.charAt(r>>>4&15)+i.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[i(t)-1]=t;let r=1732584193,o=-271733879,d=-1732584194,l=271733878;for(let t=0;t<e.length;t+=16){const i=r,f=o,p=d,v=l;r=s(r,o,d,l,e[t],7,-680876936),l=s(l,r,o,d,e[t+1],12,-389564586),d=s(d,l,r,o,e[t+2],17,606105819),o=s(o,d,l,r,e[t+3],22,-1044525330),r=s(r,o,d,l,e[t+4],7,-176418897),l=s(l,r,o,d,e[t+5],12,1200080426),d=s(d,l,r,o,e[t+6],17,-1473231341),o=s(o,d,l,r,e[t+7],22,-45705983),r=s(r,o,d,l,e[t+8],7,1770035416),l=s(l,r,o,d,e[t+9],12,-1958414417),d=s(d,l,r,o,e[t+10],17,-42063),o=s(o,d,l,r,e[t+11],22,-1990404162),r=s(r,o,d,l,e[t+12],7,1804603682),l=s(l,r,o,d,e[t+13],12,-40341101),d=s(d,l,r,o,e[t+14],17,-1502002290),o=s(o,d,l,r,e[t+15],22,1236535329),r=a(r,o,d,l,e[t+1],5,-165796510),l=a(l,r,o,d,e[t+6],9,-1069501632),d=a(d,l,r,o,e[t+11],14,643717713),o=a(o,d,l,r,e[t],20,-373897302),r=a(r,o,d,l,e[t+5],5,-701558691),l=a(l,r,o,d,e[t+10],9,38016083),d=a(d,l,r,o,e[t+15],14,-660478335),o=a(o,d,l,r,e[t+4],20,-405537848),r=a(r,o,d,l,e[t+9],5,568446438),l=a(l,r,o,d,e[t+14],9,-1019803690),d=a(d,l,r,o,e[t+3],14,-187363961),o=a(o,d,l,r,e[t+8],20,1163531501),r=a(r,o,d,l,e[t+13],5,-1444681467),l=a(l,r,o,d,e[t+2],9,-51403784),d=a(d,l,r,o,e[t+7],14,1735328473),o=a(o,d,l,r,e[t+12],20,-1926607734),r=c(r,o,d,l,e[t+5],4,-378558),l=c(l,r,o,d,e[t+8],11,-2022574463),d=c(d,l,r,o,e[t+11],16,1839030562),o=c(o,d,l,r,e[t+14],23,-35309556),r=c(r,o,d,l,e[t+1],4,-1530992060),l=c(l,r,o,d,e[t+4],11,1272893353),d=c(d,l,r,o,e[t+7],16,-155497632),o=c(o,d,l,r,e[t+10],23,-1094730640),r=c(r,o,d,l,e[t+13],4,681279174),l=c(l,r,o,d,e[t],11,-358537222),d=c(d,l,r,o,e[t+3],16,-722521979),o=c(o,d,l,r,e[t+6],23,76029189),r=c(r,o,d,l,e[t+9],4,-640364487),l=c(l,r,o,d,e[t+12],11,-421815835),d=c(d,l,r,o,e[t+15],16,530742520),o=c(o,d,l,r,e[t+2],23,-995338651),r=u(r,o,d,l,e[t],6,-198630844),l=u(l,r,o,d,e[t+7],10,1126891415),d=u(d,l,r,o,e[t+14],15,-1416354905),o=u(o,d,l,r,e[t+5],21,-57434055),r=u(r,o,d,l,e[t+12],6,1700485571),l=u(l,r,o,d,e[t+3],10,-1894986606),d=u(d,l,r,o,e[t+10],15,-1051523),o=u(o,d,l,r,e[t+1],21,-2054922799),r=u(r,o,d,l,e[t+8],6,1873313359),l=u(l,r,o,d,e[t+15],10,-30611744),d=u(d,l,r,o,e[t+6],15,-1560198380),o=u(o,d,l,r,e[t+13],21,1309151649),r=u(r,o,d,l,e[t+4],6,-145523070),l=u(l,r,o,d,e[t+11],10,-1120210379),d=u(d,l,r,o,e[t+2],15,718787259),o=u(o,d,l,r,e[t+9],21,-343485551),r=n(r,i),o=n(o,f),d=n(d,p),l=n(l,v)}return[r,o,d,l]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(i(t));for(let i=0;i<t;i+=8)r[i>>5]|=(255&e[i/8])<<i%32;return r}(e),8*e.length))};r.default=d},{}],137:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"},{}],138:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i};var o=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=o},{"./validate.js":148}],139:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],140:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)};const i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16)},{}],141:[function(e,t,r){"use strict";function i(e,t,r,i){switch(e){case 0:return t&r^~t&i;case 1:return t^r^i;case 2:return t&r^t&i^r&i;case 3:return t^r^i}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(let t=0;t<s;++t){const r=new Uint32Array(16);for(let i=0;i<16;++i)r[i]=e[64*t+4*i]<<24|e[64*t+4*i+1]<<16|e[64*t+4*i+2]<<8|e[64*t+4*i+3];a[t]=r}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<s;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=a[e][t];for(let e=16;e<80;++e)o[e]=n(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let s=r[0],c=r[1],u=r[2],d=r[3],l=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=n(s,5)+i(r,c,u,d)+l+t[r]+o[e]>>>0;l=d,d=u,u=n(c,30)>>>0,c=s,s=a}r[0]=r[0]+s>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+l>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=o},{}],142:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).substr(1));var s=function(e,t=0){const r=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!(0,n.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=s},{"./validate.js":148}],143:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./rng.js")),n=o(e("./stringify.js"));function o(e){return e&&e.__esModule?e:{default:e}}let s,a,c=0,u=0;var d=function(e,t,r){let o=t&&r||0;const d=t||new Array(16);let l=(e=e||{}).node||s,f=void 0!==e.clockseq?e.clockseq:a;if(null==l||null==f){const t=e.random||(e.rng||i.default)();null==l&&(l=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=a=16383&(t[6]<<8|t[7]))}let p=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:u+1;const g=p-c+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>c)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=v,a=f,p+=122192928e5;const h=(1e4*(268435455&p)+v)%4294967296;d[o++]=h>>>24&255,d[o++]=h>>>16&255,d[o++]=h>>>8&255,d[o++]=255&h;const m=p/4294967296*1e4&268435455;d[o++]=m>>>8&255,d[o++]=255&m,d[o++]=m>>>24&15|16,d[o++]=m>>>16&255,d[o++]=f>>>8|128,d[o++]=255&f;for(let e=0;e<6;++e)d[o+e]=l[e];return t||(0,n.default)(d)};r.default=d},{"./rng.js":140,"./stringify.js":142}],144:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./v35.js")),n=o(e("./md5.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)("v3",48,n.default);r.default=s},{"./md5.js":136,"./v35.js":145}],145:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){function o(e,o,s,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof o&&(o=(0,n.default)(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(o),c.set(e,o.length),c=r(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,s){a=a||0;for(let e=0;e<16;++e)s[a+e]=c[e];return s}return(0,i.default)(c)}try{o.name=e}catch(e){}return o.DNS=s,o.URL=a,o},r.URL=r.DNS=void 0;var i=o(e("./stringify.js")),n=o(e("./parse.js"));function o(e){return e&&e.__esModule?e:{default:e}}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a},{"./parse.js":138,"./stringify.js":142}],146:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./rng.js")),n=o(e("./stringify.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,n.default)(o)};r.default=s},{"./rng.js":140,"./stringify.js":142}],147:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./v35.js")),n=o(e("./sha1.js"));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.default)("v5",80,n.default);r.default=s},{"./sha1.js":141,"./v35.js":145}],148:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./regex.js"))&&i.__esModule?i:{default:i};var o=function(e){return"string"==typeof e&&n.default.test(e)};r.default=o},{"./regex.js":139}],149:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i};var o=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)};r.default=o},{"./validate.js":148}]},{},[57])(57)}));